jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+options.path:'';var domain=options.domain?'; domain='+options.domain:'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};(function(n,e){function r(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function t(n){return"undefined"==typeof n}var i={},o=n.TraceKit,u=[].slice,c="?";i.noConflict=function(){return n.TraceKit=o,i},i.wrap=function(n){function e(){try{return n.apply(this,arguments)}catch(e){throw i.report(e),e}}return e},i.report=function(){function e(n){l.push(n)}function t(n){for(var e=l.length-1;e>=0;--e)l[e]===n&&l.splice(e,1)}function o(n,e){var t=null;if(!e||i.collectWindowErrors){for(var o in l)if(r(l,o))try{l[o].apply(null,[n].concat(u.call(arguments,2)))}catch(c){t=c}if(t)throw t}}function c(e){var r=u.call(arguments,1);if(s){if(a===e)return;var t=s;s=null,a=null,o.apply(null,[t,null].concat(r))}var c=i.computeStackTrace(e);throw s=c,a=e,n.setTimeout(function(){a===e&&(s=null,a=null,o.apply(null,[c,null].concat(r)))},c.incomplete?2e3:0),e}var l=[],a=null,s=null,f=n.onerror;return n.onerror=function(n,e,r){var t=null;if(s)i.computeStackTrace.augmentStackTraceWithInitialElement(s,e,r,n),t=s,s=null,a=null;else{var u={url:e,line:r};u.func=i.computeStackTrace.guessFunctionName(u.url,u.line),u.context=i.computeStackTrace.gatherContext(u.url,u.line),t={mode:"onerror",message:n,url:document.location.href,stack:[u],useragent:navigator.userAgent}}return o(t,"from window.onerror"),f?f.apply(this,arguments):!1},c.subscribe=e,c.unsubscribe=t,c}(),i.computeStackTrace=function(){function e(e){function r(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}}if(!i.remoteFetching)return"";try{var t=r();return t.open("GET",e,!1),t.send(""),t.responseText}catch(o){return""}}function o(n){if(!r(E,n)){var t="";n.indexOf(document.domain)!==-1&&(t=e(n)),E[n]=t?t.split("\n"):[]}return E[n]}function u(n,e){var r,i=/function ([^(]*)\(([^)]*)\)/,u=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,l="",a=10,s=o(n);if(!s.length)return c;for(var f=0;a>f;++f)if(l=s[e-f]+l,!t(l)){if(r=u.exec(l))return r[1];if(r=i.exec(l))return r[1]}return c}function l(n,e){var r=o(n);if(!r.length)return null;var u=[],c=Math.floor(i.linesOfContext/2),l=c+i.linesOfContext%2,a=Math.max(0,e-c-1),s=Math.min(r.length,e+l-1);e-=1;for(var f=a;s>f;++f)t(r[f])||u.push(r[f]);return u.length>0?u:null}function a(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(n){return a(n).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(n,e){for(var r,t,i=0,u=e.length;u>i;++i)if((r=o(e[i])).length&&(r=r.join("\n"),t=n.exec(r)))return{url:e[i],line:r.substring(0,t.index).split("\n").length,column:t.index-r.lastIndexOf("\n",t.index)-1};return null}function p(n,e,r){var t,i=o(e),u=new RegExp("\\b"+a(n)+"\\b");return r-=1,i&&i.length>r&&(t=u.exec(i[r]))?t.index:null}function g(e){for(var r,t,i,o,u=[n.location.href],c=document.getElementsByTagName("script"),l=""+e,p=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,g=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<c.length;++h){var m=c[h];m.src&&u.push(m.src)}if(i=p.exec(l)){var v=i[1]?"\\s+"+i[1]:"",d=i[2].split(",").join("\\s*,\\s*");r=a(i[3]).replace(/;$/,";?"),t=new RegExp("function"+v+"\\s*\\(\\s*"+d+"\\s*\\)\\s*{\\s*"+r+"\\s*}")}else t=new RegExp(a(l).replace(/\s+/g,"\\s+"));if(o=f(t,u))return o;if(i=g.exec(l)){var x=i[1];if(r=s(i[2]),t=new RegExp("on"+x+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),o=f(t,u[0]))return o;if(t=new RegExp(r),o=f(t,u))return o}return null}function h(n){if(!n.stack)return null;for(var e,r,t=/^\s*at (?:((?:\[object object\])?\S+) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i,o=n.stack.split("\n"),a=[],s=/^(.*) is undefined$/.exec(n.message),f=0,g=o.length;g>f;++f){if(e=i.exec(o[f]))r={url:e[3],func:e[1]||c,args:e[2]?e[2].split(","):"",line:+e[4],column:e[5]?+e[5]:null};else{if(!(e=t.exec(o[f])))continue;r={url:e[2],func:e[1]||c,line:+e[3],column:e[4]?+e[4]:null}}!r.func&&r.line&&(r.func=u(r.url,r.line)),r.line&&(r.context=l(r.url,r.line)),a.push(r)}return a[0]&&a[0].line&&!a[0].column&&s&&(a[0].column=p(s[1],a[0].url,a[0].line)),a.length?{mode:"stack",name:n.name,message:n.message,url:document.location.href,stack:a,useragent:navigator.userAgent}:null}function m(n){for(var e,r=n.stacktrace,t=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=r.split("\n"),o=[],c=0,a=i.length;a>c;c+=2)if(e=t.exec(i[c])){var s={line:+e[1],column:+e[2],func:e[3]||e[4],args:e[5]?e[5].split(","):[],url:e[6]};if(!s.func&&s.line&&(s.func=u(s.url,s.line)),s.line)try{s.context=l(s.url,s.line)}catch(f){}s.context||(s.context=[i[c+1]]),o.push(s)}return o.length?{mode:"stacktrace",name:n.name,message:n.message,url:document.location.href,stack:o,useragent:navigator.userAgent}:null}function v(e){var t=e.message.split("\n");if(t.length<4)return null;var i,c,a,p,g=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,v=[],d=document.getElementsByTagName("script"),x=[];for(c in d)r(d,c)&&!d[c].src&&x.push(d[c]);for(c=2,a=t.length;a>c;c+=2){var y=null;if(i=g.exec(t[c]))y={url:i[2],func:i[3],line:+i[1]};else if(i=h.exec(t[c])){y={url:i[3],func:i[4]};var w=+i[1],k=x[i[2]-1];if(k&&(p=o(y.url))){p=p.join("\n");var E=p.indexOf(k.innerText);E>=0&&(y.line=w+p.substring(0,E).split("\n").length)}}else if(i=m.exec(t[c])){var b=n.location.href.replace(/#.*$/,""),S=i[1],T=new RegExp(s(t[c+1]));p=f(T,[b]),y={url:b,line:p?p.line:S,func:""}}if(y){y.func||(y.func=u(y.url,y.line));var $=l(y.url,y.line),F=$?$[Math.floor($.length/2)]:null;y.context=$&&F.replace(/^\s*/,"")===t[c+1].replace(/^\s*/,"")?$:[t[c+1]],v.push(y)}}return v.length?{mode:"multiline",name:e.name,message:t[0],url:document.location.href,stack:v,useragent:navigator.userAgent}:null}function d(n,e,r,t){var i={url:e,line:r};if(i.url&&i.line){n.incomplete=!1,i.func||(i.func=u(i.url,i.line)),i.context||(i.context=l(i.url,i.line));var o=/ '([^']+)' /.exec(t);if(o&&(i.column=p(o[1],i.url,i.line)),n.stack.length>0&&n.stack[0].url===i.url){if(n.stack[0].line===i.line)return!1;if(!n.stack[0].line&&n.stack[0].func===i.func)return n.stack[0].line=i.line,n.stack[0].context=i.context,!1}return n.stack.unshift(i),n.partial=!0,!0}return n.incomplete=!0,!1}function x(n,e){for(var r,t,o,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],s={},f=!1,h=x.caller;h&&!f;h=h.caller)if(h!==y&&h!==i.report){if(t={url:null,func:c,line:null,column:null},h.name?t.func=h.name:(r=l.exec(h.toString()))&&(t.func=r[1]),o=g(h)){t.url=o.url,t.line=o.line,t.func===c&&(t.func=u(t.url,t.line));var m=/ '([^']+)' /.exec(n.message||n.description);m&&(t.column=p(m[1],o.url,o.line))}s[""+h]?f=!0:s[""+h]=!0,a.push(t)}e&&a.splice(0,e);var v={mode:"callers",name:n.name,message:n.message,url:document.location.href,stack:a,useragent:navigator.userAgent};return d(v,n.sourceURL||n.fileName,n.line||n.lineNumber,n.message||n.description),v}function y(n,e){var r=null;e=null==e?0:+e;try{if(r=m(n))return r}catch(t){if(k)throw t}try{if(r=h(n))return r}catch(t){if(k)throw t}try{if(r=v(n))return r}catch(t){if(k)throw t}try{if(r=x(n,e+1))return r}catch(t){if(k)throw t}return{mode:"failed"}}function w(n){n=(null==n?0:+n)+1;try{throw new Error}catch(e){return y(e,n+1)}return null}var k=!1,E={};return y.augmentStackTraceWithInitialElement=d,y.guessFunctionName=u,y.gatherContext=l,y.ofCaller=w,y}(),function(){var e=function(e){var r=n[e];n[e]=function(){var n=u.call(arguments),e=n[0];return"function"==typeof e&&(n[0]=i.wrap(e)),r.apply?r.apply(this,n):r(n[0],n[1])}};e("setTimeout"),e("setInterval")}(),function(n){if(n){var r=n.event.add;n.event.add=function(e,t,o,u,c){var l;return o.handler?(l=o.handler,o.handler=i.wrap(o.handler)):(l=o,o=i.wrap(o)),o.guid=l.guid?l.guid:l.guid=n.guid++,r.call(this,e,t,o,u,c)};var t=n.fn.ready;n.fn.ready=function(n){return t.call(this,i.wrap(n))};var o=n.ajax;n.ajax=function(r,t){var u,c=["complete","error","success"];for("object"==typeof r&&(t=r,r=e),t=t||{};u=c.pop();)n.isFunction(t[u])&&(t[u]=i.wrap(t[u]));try{return o.call(this,r,t)}catch(l){throw i.report(l),l}}}}(n.jQuery),i.remoteFetching||(i.remoteFetching=!0),i.collectWindowErrors||(i.collectWindowErrors=!0),(!i.linesOfContext||i.linesOfContext<1)&&(i.linesOfContext=11),n.TraceKit=i})(window),function(n,e){"use strict";function r(n){for(var e=F.exec(n),r={},t=14;t--;)r[$[t]]=e[t]||"";return r}function t(n){return"undefined"==typeof n}function i(n){return"function"==typeof n}function o(n,e){var r,i;if(t(n.length))for(r in n)n.hasOwnProperty(r)&&e.call(null,r,n[r]);else for(r=0,i=n.length;i>r;r++)e.call(null,r,n[r])}function u(){if(S)return S;var n=["sentry_version=2.0","sentry_client=raven-js/"+T.VERSION];return x&&n.push("sentry_key="+x),S="?"+n.join("&")}function c(n,e){var r,t,i=[],o=0;if(n.stack&&(r=n.stack.length))for(;r>o;o++)t=l(n.stack[o]),t&&i.push(t);s(n.name,n.message,n.url,n.lineno,i,e)}function l(n){if(n.url){var e={filename:n.url,lineno:n.line,colno:n.column,"function":n.func||"?"},r=a(n);if(r)for(var t=3,i=["pre_context","context_line","post_context"];t--;)e[i[t]]=r[t];return e.in_app=!/(Raven|TraceKit)\./.test(e["function"]),e}}function a(n){if(n.context&&E.fetchContext){for(var e=n.context,r=~~(e.length/2),i=e.length,o=!1;i--;)if(e[i].length>300){o=!0;break}if(o){if(t(n.column))return;return[[],e[r].substr(n.column,50),[]]}return[e.slice(0,r),e[r],e.slice(r+1)]}}function s(n,e,r,t,i,o){var u,c,l;for(l=E.ignoreErrors.length;l--;)if(e===E.ignoreErrors[l])return;for(i&&i.length?(u={frames:i},r=r||i[0].filename):r&&(u={frames:[{filename:r,lineno:t}]}),l=E.ignoreUrls.length;l--;)if(E.ignoreUrls[l].test(r))return;c=t?e+" at "+t:e,g(f({"sentry.interfaces.Exception":{type:n,value:e},"sentry.interfaces.Stacktrace":u,culprit:r,message:c},o))}function f(n,e){return e?(o(e,function(e,r){n[e]=r}),n):n}function p(){var e={url:n.location.href,headers:{"User-Agent":navigator.userAgent}};return n.document.referrer&&(e.headers.Referer=n.document.referrer),e}function g(n){m()&&(n=f({project:y,logger:E.logger,site:E.site,platform:"javascript","sentry.interfaces.Http":p()},n),d&&(n["sentry.interfaces.User"]=d),i(E.dataCallback)&&(n=E.dataCallback(n)),h(n))}function h(n){(new Image).src=v+u()+"&sentry_data="+encodeURIComponent(JSON.stringify(n))}function m(){return k?v?!0:(n.console&&console.error&&console.error("Error: Raven has not been configured."),!1):!1}var v,d,x,y,w=n.Raven,k=!t(n.JSON),E={logger:"javascript",ignoreErrors:[],ignoreUrls:[]},b=TraceKit.noConflict();b.remoteFetching=!1;var S,T={VERSION:"1.0.8",noConflict:function(){return n.Raven=w,T},config:function(e,t){var i=r(e),u=i.path.lastIndexOf("/"),c=i.path.substr(1,u);return t&&t.ignoreErrors&&n.console&&console.warn&&console.warn("DeprecationWarning: `ignoreErrors` is going to be removed soon."),t&&o(t,function(n,e){E[n]=e}),E.ignoreErrors.push("Script error."),x=i.user,y=~~i.path.substr(u+1),v="//"+i.host+(i.port?":"+i.port:"")+"/"+c+"api/"+y+"/store/",i.protocol&&(v=i.protocol+":"+v),E.fetchContext&&(b.remoteFetching=!0),T},install:function(){return m()?(b.report.subscribe(c),T):void 0},context:function(n,r,t){i(n)&&(t=r||[],r=n,n=e),T.wrap(n,r).apply(this,t)},wrap:function(n,r){return i(n)&&(r=n,n=e),function(){try{r.apply(this,arguments)}catch(e){throw T.captureException(e,n),e}}},uninstall:function(){return b.report.unsubscribe(c),T},captureException:function(n,e){if("string"==typeof n)return T.captureMessage(n,e);try{b.report(n,e)}catch(r){if(n!==r)throw r}return T},captureMessage:function(n,e){return g(f({message:n},e)),T},setUser:function(n){return d=n,T}},$="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),F=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;n.Raven=T,"function"==typeof define&&define.amd&&define("raven",[],function(){return T})}(window);(function(e){function a(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function f(e,t){var i,o,f,l,c;i=e.keyCode,a(u,i)==-1&&u.push(i);if(i==93||i==224)i=91;if(i in r){r[i]=!0;for(f in s)s[f]==i&&(h[f]=!0);return}if(!h.filter.call(this,e))return;if(!(i in n))return;for(l=0;l<n[i].length;l++){o=n[i][l];if(o.scope==t||o.scope=="all"){c=o.mods.length>0;for(f in r)if(!r[f]&&a(o.mods,+f)>-1||r[f]&&a(o.mods,+f)==-1)c=!1;(o.mods.length==0&&!r[16]&&!r[18]&&!r[17]&&!r[91]||c)&&o.method(e,o)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function l(e){var t=e.keyCode,n,i=a(u,t);i>=0&&u.splice(i,1);if(t==93||t==224)t=91;if(t in r){r[t]=!1;for(n in s)s[n]==t&&(h[n]=!1)}}function c(){for(t in r)r[t]=!1;for(t in s)h[t]=!1}function h(e,t,r){var i,u,a,f;r===undefined&&(r=t,t="all"),e=e.replace(/\s/g,""),i=e.split(","),i[i.length-1]==""&&(i[i.length-2]+=",");for(a=0;a<i.length;a++){u=[],e=i[a].split("+");if(e.length>1){u=e.slice(0,e.length-1);for(f=0;f<u.length;f++)u[f]=s[u[f]];e=[e[e.length-1]]}e=e[0],e=o[e]||e.toUpperCase().charCodeAt(0),e in n||(n[e]=[]),n[e].push({shortcut:i[a],scope:t,method:r,key:i[a],mods:u})}}function p(e){if(typeof e=="string"){if(e.length!=1)return!1;e=e.toUpperCase().charCodeAt(0)}return a(u,e)!=-1}function d(){return u}function v(e){var t=(e.target||e.srcElement).tagName;return t!="INPUT"&&t!="SELECT"&&t!="TEXTAREA"}function m(e){i=e||"all"}function g(){return i||"all"}function y(e){var t,r,i;for(t in n){r=n[t];for(i=0;i<r.length;)r[i].scope===e?r.splice(i,1):i++}}function b(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function E(){var t=e.key;return e.key=w,t}var t,n={},r={16:!1,18:!1,17:!1,91:!1},i="all",s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},o={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},u=[];for(t=1;t<20;t++)s["f"+t]=111+t;for(t in s)h[t]=!1;b(document,"keydown",function(e){f(e,i)}),b(document,"keyup",l),b(window,"focus",c);var w=e.key;e.key=h,e.key.setScope=m,e.key.getScope=g,e.key.deleteScope=y,e.key.filter=v,e.key.isPressed=p,e.key.getPressedKeyCodes=d,e.key.noConflict=E,typeof module!="undefined"&&(module.exports=key)})(this);keymaster=key.noConflict();this.Handlebars={};(function(Handlebars){Handlebars.VERSION="1.0.rc.2";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(name,fn,inverse){if(inverse){fn.not=inverse;}
this.helpers[name]=fn;};Handlebars.registerPartial=function(name,str){this.partials[name]=str;};Handlebars.registerHelper('helperMissing',function(arg){if(arguments.length===2){return undefined;}else{throw new Error("Could not find property '"+arg+"'");}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper('blockHelperMissing',function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var ret="";var type=toString.call(context);if(type===functionType){context=context.call(this);}
if(context===true){return fn(this);}else if(context===false||context==null){return inverse(this);}else if(type==="[object Array]"){if(context.length>0){return Handlebars.helpers.each(context,options);}else{return inverse(this);}}else{return fn(context);}});Handlebars.K=function(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K();Handlebars.K.prototype=null;return obj;};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:'debug',1:'info',2:'warn',3:'error'},log:function(level,obj){if(Handlebars.logger.level<=level){var method=Handlebars.logger.methodMap[level];if(typeof console!=='undefined'&&console[method]){console[method].call(console,obj);}}}};Handlebars.log=function(level,obj){Handlebars.logger.log(level,obj);};Handlebars.registerHelper('each',function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(options.data){data=Handlebars.createFrame(options.data);}
if(context&&typeof context==='object'){if(context instanceof Array){for(var j=context.length;i<j;i++){if(data){data.index=i;}
ret=ret+fn(context[i],{data:data});}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key;}
ret=ret+fn(context[key],{data:data});i++;}}}}
if(i===0){ret=inverse(this);}
return ret;});Handlebars.registerHelper('if',function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this);}
if(!context||Handlebars.Utils.isEmpty(context)){return options.inverse(this);}else{return options.fn(this);}});Handlebars.registerHelper('unless',function(context,options){var fn=options.fn,inverse=options.inverse;options.fn=inverse;options.inverse=fn;return Handlebars.helpers['if'].call(this,context,options);});Handlebars.registerHelper('with',function(context,options){return options.fn(context);});Handlebars.registerHelper('log',function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;Handlebars.log(level,context);});}(this.Handlebars));;var errorProps=['description','fileName','lineNumber','message','name','number','stack'];Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]];}};Handlebars.Exception.prototype=new Error();Handlebars.SafeString=function(string){this.string=string;};Handlebars.SafeString.prototype.toString=function(){return this.string.toString();};(function(){var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;";};Handlebars.Utils={escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString();}else if(string==null||string===false){return"";}
if(!possible.test(string)){return string;}
return string.replace(badChars,escapeChar);},isEmpty:function(value){if(!value&&value!==0){return true;}else if(Object.prototype.toString.call(value)==="[object Array]"&&value.length===0){return true;}else{return false;}}};})();;Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){return Handlebars.VM.program(fn,data);}else if(programWrapper){return programWrapper;}else{programWrapper=this.programs[i]=Handlebars.VM.program(fn);return programWrapper;}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(context,options){options=options||{};return templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data);};},programWithDepth:function(fn,data,$depth){var args=Array.prototype.slice.call(arguments,2);return function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args));};},program:function(fn,data){return function(context,options){options=options||{};return fn(context,options.data||data);};},noop:function(){return"";},invokePartial:function(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found");}else if(partial instanceof Function){return partial(context,options);}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode");}else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options);}}};Handlebars.template=Handlebars.VM.template;;[].indexOf||(Array.prototype.indexOf=function(a,b,c){for(c=this.length,b=(c+~~b)%c;b<c&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1;});if(!Date.now){Date.now=function(){return new Date().valueOf();}}
if(!Array.prototype.forEach){Array.prototype.forEach=function(fn,scope){for(var i=0,len=this.length;i<len;++i){fn.call(scope,this[i],i,this);}}}
Object.keys=Object.keys||(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),DontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],DontEnumsLength=DontEnums.length;return function(o){if(typeof o!="object"&&typeof o!="function"||o===null)
throw new TypeError("Object.keys called on a non-object");var result=[];for(var name in o){if(hasOwnProperty.call(o,name))
result.push(name);}
if(hasDontEnumBug){for(var i=0;i<DontEnumsLength;i++){if(hasOwnProperty.call(o,DontEnums[i]))
result.push(DontEnums[i]);}}
return result;};})();var __nativeST__=window.setTimeout,__nativeSI__=window.setInterval;window.setTimeout=function(vCallback,nDelay){var oThis=this,aArgs=Array.prototype.slice.call(arguments,2);return __nativeST__(vCallback instanceof Function?function(){vCallback.apply(oThis,aArgs);}:vCallback,nDelay);};window.setInterval=function(vCallback,nDelay){var oThis=this,aArgs=Array.prototype.slice.call(arguments,2);return __nativeSI__(vCallback instanceof Function?function(){vCallback.apply(oThis,aArgs);}:vCallback,nDelay);};(function(){var
object=typeof window!='undefined'?window:exports,chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',INVALID_CHARACTER_ERR=(function(){try{document.createElement('$');}
catch(error){return error;}}());object.btoa||(object.btoa=function(input){for(var block,charCode,idx=0,map=chars,output='';input.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=input.charCodeAt(idx+=3/4);if(charCode>0xFF)throw INVALID_CHARACTER_ERR;block=block<<8|charCode;}
return output;});object.atob||(object.atob=function(input){input=input.replace(/=+$/,'')
if(input.length%4==1)throw INVALID_CHARACTER_ERR;for(var bc=0,bs,buffer,idx=0,output='';buffer=input.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}
return output;});}());(function(audiojs,audiojsInstance,container){var path='/static/';if(typeof STATIC_URL==='undefined'){path=(function(){var re=new RegExp('audio(\.min)?\.js.*'),scripts=document.getElementsByTagName('script');for(var i=0,ii=scripts.length;i<ii;i++){var path=scripts[i].getAttribute('src');if(re.test(path))return path.replace(re,'');}})();}else{path=STATIC_URL+'onion/audiojs/';}
container[audiojs]={instanceCount:0,instances:{},flashSource:'\
      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;"> \
        <param name="movie" value="$2?playerInstance='+audiojs+'.instances[\'$1\']&datetime=$3"> \
        <param name="allowscriptaccess" value="always"> \
        <embed name="$1" src="$2?playerInstance='+audiojs+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always"> \
      </object>',settings:{autoplay:false,loop:false,preload:true,imageLocation:path+'player-graphics.gif',swfLocation:path+'audiojs.swf',useFlash:(function(){var a=document.createElement('audio');return!(a.canPlayType&&a.canPlayType('audio/mpeg;').replace(/no/,''));})(),hasFlash:(function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins['Shockwave Flash']){return true;}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var mimeType=navigator.mimeTypes['application/x-shockwave-flash'];return mimeType&&mimeType.enabledPlugin;}else{try{var ax=new ActiveXObject('ShockwaveFlash.ShockwaveFlash');return true;}catch(e){}}
return false;})(),createPlayer:{markup:'\
          <div class="play-pause"> \
            <p class="play"></p> \
            <p class="pause"></p> \
            <p class="loading"></p> \
            <p class="error"></p> \
          </div> \
          <div class="scrubber"> \
            <div class="progress"></div> \
            <div class="loaded"></div> \
          </div> \
          <div class="time"> \
            <em class="played">00:00</em>/<strong class="duration">00:00</strong> \
          </div> \
          <div class="error-message"></div>',playPauseClass:'play-pause',scrubberClass:'scrubber',progressClass:'progress',loaderClass:'loaded',timeClass:'time',durationClass:'duration',playedClass:'played',errorMessageClass:'error-message',playingClass:'playing',loadingClass:'loading',errorClass:'error'},css:'\
        .audiojs audio { position: absolute; left: -1px; } \
        .audiojs { width: 460px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px; \
          background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444)); \
          background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%); \
          -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); \
          -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); } \
        .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; } \
        .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; } \
        .audiojs .play { display: block; } \
        .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; } \
        .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1; \
          background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc)); \
          background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); } \
        .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000; \
          background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222)); \
          background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); } \
        .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); } \
        .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; } \
        .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; } \
        .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff; \
          text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; } \
        .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; } \
        \
        .audiojs .play { background: url("$1") -2px -1px no-repeat; } \
        .audiojs .loading { background: url("$1") -2px -31px no-repeat; } \
        .audiojs .error { background: url("$1") -2px -61px no-repeat; } \
        .audiojs .pause { background: url("$1") -2px -91px no-repeat; } \
        \
        .playing .play, .playing .loading, .playing .error { display: none; } \
        .playing .pause { display: block; } \
        \
        .loading .play, .loading .pause, .loading .error { display: none; } \
        .loading .loading { display: block; } \
        \
        .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; } \
        .error .error { display: block; } \
        .error .play-pause p { cursor: auto; } \
        .error .error-message { display: block; }',trackEnded:function(e){},flashError:function(){var player=this.settings.createPlayer,errorMessage=getByClass(player.errorMessageClass,this.wrapper),html='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';if(this.mp3)html+=' <a href="'+this.mp3+'">Download audio file</a>.';container[audiojs].helpers.removeClass(this.wrapper,player.loadingClass);container[audiojs].helpers.addClass(this.wrapper,player.errorClass);errorMessage.innerHTML=html;},loadError:function(e){var player=this.settings.createPlayer,errorMessage=getByClass(player.errorMessageClass,this.wrapper);container[audiojs].helpers.removeClass(this.wrapper,player.loadingClass);container[audiojs].helpers.addClass(this.wrapper,player.errorClass);errorMessage.innerHTML='Error loading: "'+this.mp3+'"';},init:function(){var player=this.settings.createPlayer;container[audiojs].helpers.addClass(this.wrapper,player.loadingClass);},loadStarted:function(){var player=this.settings.createPlayer,duration=getByClass(player.durationClass,this.wrapper),m=Math.floor(this.duration/60),s=Math.floor(this.duration%60);container[audiojs].helpers.removeClass(this.wrapper,player.loadingClass);duration.innerHTML=((m<10?'0':'')+m+':'+(s<10?'0':'')+s);},loadProgress:function(percent){var player=this.settings.createPlayer,scrubber=getByClass(player.scrubberClass,this.wrapper),loaded=getByClass(player.loaderClass,this.wrapper);loaded.style.width=(scrubber.offsetWidth*percent)+'px';},playPause:function(){if(this.playing)this.settings.play();else this.settings.pause();},play:function(){var player=this.settings.createPlayer;container[audiojs].helpers.addClass(this.wrapper,player.playingClass);},pause:function(){var player=this.settings.createPlayer;container[audiojs].helpers.removeClass(this.wrapper,player.playingClass);},updatePlayhead:function(percent){var player=this.settings.createPlayer,scrubber=getByClass(player.scrubberClass,this.wrapper),progress=getByClass(player.progressClass,this.wrapper);progress.style.width=(scrubber.offsetWidth*percent)+'px';var played=getByClass(player.playedClass,this.wrapper),p=this.duration*percent,m=Math.floor(p/60),s=Math.floor(p%60);played.innerHTML=((m<10?'0':'')+m+':'+(s<10?'0':'')+s);}},create:function(element,options){var options=options||{}
if(element.length){return this.createAll(options,element);}else{return this.newInstance(element,options);}},createAll:function(options,elements){var audioElements=elements||document.getElementsByTagName('audio'),instances=[]
options=options||{};for(var i=0,ii=audioElements.length;i<ii;i++){instances.push(this.newInstance(audioElements[i],options));}
return instances;},newInstance:function(element,options){var element=element,s=this.helpers.clone(this.settings),id='audiojs'+this.instanceCount,wrapperId='audiojs_wrapper'+this.instanceCount,instanceCount=this.instanceCount++;if(element.getAttribute('autoplay')!=null)s.autoplay=true;if(element.getAttribute('loop')!=null)s.loop=true;if(element.getAttribute('preload')=='none')s.preload=false;if(options)this.helpers.merge(s,options);if(s.createPlayer.markup)element=this.createPlayer(element,s.createPlayer,wrapperId);else element.parentNode.setAttribute('id',wrapperId);var audio=new container[audiojsInstance](element,s);if(s.css)this.helpers.injectCss(audio,s.css);if(s.useFlash&&s.hasFlash){this.injectFlash(audio,id);this.attachFlashEvents(audio.wrapper,audio);}else if(s.useFlash&&!s.hasFlash){this.settings.flashError.apply(audio);}
if(!s.useFlash||(s.useFlash&&s.hasFlash))this.attachEvents(audio.wrapper,audio);this.instances[id]=audio;return audio;},createPlayer:function(element,player,id){var wrapper=document.createElement('div'),newElement=element.cloneNode(true);wrapper.setAttribute('class','audiojs');wrapper.setAttribute('className','audiojs');wrapper.setAttribute('id',id);if(newElement.outerHTML&&!document.createElement('audio').canPlayType){newElement=this.helpers.cloneHtml5Node(element);wrapper.innerHTML=player.markup;wrapper.appendChild(newElement);element.outerHTML=wrapper.outerHTML;wrapper=document.getElementById(id);}else{wrapper.appendChild(newElement);wrapper.innerHTML=wrapper.innerHTML+player.markup;element.parentNode.replaceChild(wrapper,element);}
return wrapper.getElementsByTagName('audio')[0];},attachEvents:function(wrapper,audio){if(!audio.settings.createPlayer)return;var player=audio.settings.createPlayer,playPause=getByClass(player.playPauseClass,wrapper),scrubber=getByClass(player.scrubberClass,wrapper),leftPos=function(elem){var curleft=0;if(elem.offsetParent){do{curleft+=elem.offsetLeft;}while(elem=elem.offsetParent);}
return curleft;};container[audiojs].events.addListener(playPause,'click',function(e){audio.playPause.apply(audio);});container[audiojs].events.addListener(scrubber,'click',function(e){var relativeLeft=e.clientX-leftPos(this);audio.skipTo(relativeLeft/scrubber.offsetWidth);});if(audio.settings.useFlash)return;container[audiojs].events.trackLoadProgress(audio);container[audiojs].events.addListener(audio.element,'timeupdate',function(e){audio.updatePlayhead.apply(audio);});container[audiojs].events.addListener(audio.element,'ended',function(e){audio.trackEnded.apply(audio);});container[audiojs].events.addListener(audio.source,'error',function(e){clearInterval(audio.readyTimer);clearInterval(audio.loadTimer);audio.settings.loadError.apply(audio);});},attachFlashEvents:function(element,audio){audio['swfReady']=false;audio['load']=function(mp3){audio.mp3=mp3;if(audio.swfReady)audio.element.load(mp3);}
audio['loadProgress']=function(percent,duration){audio.loadedPercent=percent;audio.duration=duration;audio.settings.loadStarted.apply(audio);audio.settings.loadProgress.apply(audio,[percent]);}
audio['skipTo']=function(percent){if(percent>audio.loadedPercent)return;audio.updatePlayhead.call(audio,[percent])
audio.element.skipTo(percent);}
audio['updatePlayhead']=function(percent){audio.settings.updatePlayhead.apply(audio,[percent]);}
audio['play']=function(){if(!audio.settings.preload){audio.settings.preload=true;audio.element.init(audio.mp3);}
audio.playing=true;audio.element.pplay();audio.settings.play.apply(audio);}
audio['pause']=function(){audio.playing=false;audio.element.ppause();audio.settings.pause.apply(audio);}
audio['setVolume']=function(v){audio.element.setVolume(v);}
audio['loadStarted']=function(){audio.swfReady=true;if(audio.settings.preload)audio.element.init(audio.mp3);if(audio.settings.autoplay)audio.play.apply(audio);}},injectFlash:function(audio,id){var flashSource=this.flashSource.replace(/\$1/g,id);flashSource=flashSource.replace(/\$2/g,audio.settings.swfLocation);flashSource=flashSource.replace(/\$3/g,(+new Date+Math.random()));var html=audio.wrapper.innerHTML,div=document.createElement('div');div.innerHTML=flashSource+html;audio.wrapper.innerHTML=div.innerHTML;audio.element=this.helpers.getSwf(id);},helpers:{merge:function(obj1,obj2){for(attr in obj2){if(obj1.hasOwnProperty(attr)||obj2.hasOwnProperty(attr)){obj1[attr]=obj2[attr];}}},clone:function(obj){if(obj==null||typeof(obj)!=='object')return obj;var temp=new obj.constructor();for(var key in obj)temp[key]=arguments.callee(obj[key]);return temp;},addClass:function(element,className){var re=new RegExp('(\\s|^)'+className+'(\\s|$)');if(re.test(element.className))return;element.className+=' '+className;},removeClass:function(element,className){var re=new RegExp('(\\s|^)'+className+'(\\s|$)');element.className=element.className.replace(re,' ');},injectCss:function(audio,string){var prepend='',styles=document.getElementsByTagName('style'),css=string.replace(/\$1/g,audio.settings.imageLocation);for(var i=0,ii=styles.length;i<ii;i++){var title=styles[i].getAttribute('title');if(title&&~title.indexOf('audiojs')){style=styles[i];if(style.innerHTML===css)return;prepend=style.innerHTML;break;}};var head=document.getElementsByTagName('head')[0],firstchild=head.firstChild,style=document.createElement('style');if(!head)return;style.setAttribute('type','text/css');style.setAttribute('title','audiojs');if(style.styleSheet)style.styleSheet.cssText=prepend+css;else style.appendChild(document.createTextNode(prepend+css));if(firstchild)head.insertBefore(style,firstchild);else head.appendChild(styleElement);},cloneHtml5Node:function(audioTag){var fragment=document.createDocumentFragment(),doc=fragment.createElement?fragment:document;doc.createElement('audio');var div=doc.createElement('div');fragment.appendChild(div);div.innerHTML=audioTag.outerHTML;return div.firstChild;},getSwf:function(name){var swf=document[name]||window[name];return swf.length>1?swf[swf.length-1]:swf;}},events:{memoryLeaking:false,listeners:[],addListener:function(element,eventName,func){if(element.addEventListener){element.addEventListener(eventName,func,false);}else if(element.attachEvent){this.listeners.push(element);if(!this.memoryLeaking){window.attachEvent('onunload',function(){if(this.listeners){for(var i=0,ii=this.listeners.length;i<ii;i++){container[audiojs].events.purge(this.listeners[i]);}}});this.memoryLeaking=true;}
element.attachEvent('on'+eventName,function(){func.call(element,window.event);});}},trackLoadProgress:function(audio){if(!audio.settings.preload)return;var readyTimer,loadTimer,audio=audio,ios=(/(ipod|iphone|ipad)/i).test(navigator.userAgent);readyTimer=setInterval(function(){if(audio.element.readyState>-1){if(!ios)audio.init.apply(audio);}
if(audio.element.readyState>1){if(audio.settings.autoplay)audio.play.apply(audio);clearInterval(readyTimer);loadTimer=setInterval(function(){audio.loadProgress.apply(audio);if(audio.loadedPercent>=1)clearInterval(loadTimer);});}},10);audio.readyTimer=readyTimer;audio.loadTimer=loadTimer;},purge:function(d){var a=d.attributes,i;if(a){for(i=0;i<a.length;i+=1){if(typeof d[a[i].name]==='function')d[a[i].name]=null;}}
a=d.childNodes;if(a){for(i=0;i<a.length;i+=1)purge(d.childNodes[i]);}},ready:(function(){return function(fn){var win=window,done=false,top=true,doc=win.document,root=doc.documentElement,add=doc.addEventListener?'addEventListener':'attachEvent',rem=doc.addEventListener?'removeEventListener':'detachEvent',pre=doc.addEventListener?'':'on',init=function(e){if(e.type=='readystatechange'&&doc.readyState!='complete')return;(e.type=='load'?win:doc)[rem](pre+e.type,init,false);if(!done&&(done=true))fn.call(win,e.type||e);},poll=function(){try{root.doScroll('left');}catch(e){setTimeout(poll,50);return;}
init('poll');};if(doc.readyState=='complete')fn.call(win,'lazy');else{if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement;}catch(e){}
if(top)poll();}
doc[add](pre+'DOMContentLoaded',init,false);doc[add](pre+'readystatechange',init,false);win[add](pre+'load',init,false);}}})()}}
container[audiojsInstance]=function(element,settings){this.element=element;this.wrapper=element.parentNode;this.source=element.getElementsByTagName('source')[0]||element;this.mp3=(function(element){var source=element.getElementsByTagName('source')[0];return element.getAttribute('src')||(source?source.getAttribute('src'):null);})(element);this.settings=settings;this.loadStartedCalled=false;this.loadedPercent=0;this.duration=1;this.playing=false;}
container[audiojsInstance].prototype={updatePlayhead:function(){var percent=this.element.currentTime/this.duration;this.settings.updatePlayhead.apply(this,[percent]);},skipTo:function(percent){if(percent>this.loadedPercent)return;this.element.currentTime=this.duration*percent;this.updatePlayhead();},load:function(mp3){this.loadStartedCalled=false;this.source.setAttribute('src',mp3);this.element.load();this.mp3=mp3;container[audiojs].events.trackLoadProgress(this);},loadError:function(){this.settings.loadError.apply(this);},init:function(){this.settings.init.apply(this);},loadStarted:function(){if(!this.element.duration)return false;this.duration=this.element.duration;this.updatePlayhead();this.settings.loadStarted.apply(this);},loadProgress:function(){if(this.element.buffered!=null&&this.element.buffered.length){if(!this.loadStartedCalled){this.loadStartedCalled=this.loadStarted();}
var durationLoaded=this.element.buffered.end(this.element.buffered.length-1);this.loadedPercent=durationLoaded/this.duration;this.settings.loadProgress.apply(this,[this.loadedPercent]);}},playPause:function(){if(this.playing)this.pause();else this.play();},play:function(){var ios=(/(ipod|iphone|ipad)/i).test(navigator.userAgent);if(ios&&this.element.readyState==0)this.init.apply(this);if(!this.settings.preload){this.settings.preload=true;this.element.setAttribute('preload','auto');container[audiojs].events.trackLoadProgress(this);}
this.playing=true;this.element.play();this.settings.play.apply(this);},pause:function(){this.playing=false;this.element.pause();this.settings.pause.apply(this);},setVolume:function(v){this.element.volume=v;},trackEnded:function(e){this.skipTo.apply(this,[0]);if(!this.settings.loop)this.pause.apply(this);this.settings.trackEnded.apply(this);}}
var getByClass=function(searchClass,node){var matches=[];node=node||document;if(node.getElementsByClassName){matches=node.getElementsByClassName(searchClass);}else{var i,l,els=node.getElementsByTagName("*"),pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,l=els.length;i<l;i++){if(pattern.test(els[i].className)){matches.push(els[i]);}}}
return matches.length>1?matches:matches[0];};})('audiojs','audiojsInstance',this);(function(){var b=void 0,f=!0,h=null,l=!1;function m(){return function(){}}function p(a){return function(){return this[a]}}function q(a){return function(){return a}}var t;document.createElement("video");document.createElement("audio");function u(a,c,d){if("string"===typeof a){0===a.indexOf("#")&&(a=a.slice(1));if(u.ua[a])return u.ua[a];a=u.r(a)}if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||new u.C(a,c,d)}var v=u;window.Ad=window.Bd=u;u.Qb="4.0";u.zc="https:"==document.location.protocol?"https://":"http://";u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==u.Qb&&(v.options.flash.swf=u.zc+"vjs.zencdn.net/"+u.Qb+"/video-js.swf");u.ua={};u.ka=u.CoreObject=m();u.ka.extend=function(a){var c,d;a=a||{};c=a.init||a.g||this.prototype.init||this.prototype.g||m();d=function(){c.apply(this,arguments)};d.prototype=u.i.create(this.prototype);d.prototype.constructor=d;d.extend=u.ka.extend;d.create=u.ka.create;for(var e in a)a.hasOwnProperty(e)&&(d.prototype[e]=a[e]);return d};u.ka.create=function(){var a=u.i.create(this.prototype);this.apply(a,arguments);return a};u.d=function(a,c,d){var e=u.getData(a);e.z||(e.z={});e.z[c]||(e.z[c]=[]);d.v||(d.v=u.v++);e.z[c].push(d);e.T||(e.disabled=l,e.T=function(c){if(!e.disabled){c=u.hc(c);var d=e.z[c.type];if(d)for(var d=d.slice(0),k=0,r=d.length;k<r&&!c.nc();k++)d[k].call(a,c)}});1==e.z[c].length&&(document.addEventListener?a.addEventListener(c,e.T,l):document.attachEvent&&a.attachEvent("on"+c,e.T))};u.t=function(a,c,d){if(u.mc(a)){var e=u.getData(a);if(e.z)if(c){var g=e.z[c];if(g){if(d){if(d.v)for(e=0;e<g.length;e++)g[e].v===d.v&&g.splice(e--,1)}else e.z[c]=[];u.ec(a,c)}}else for(g in e.z)c=g,e.z[c]=[],u.ec(a,c)}};u.ec=function(a,c){var d=u.getData(a);0===d.z[c].length&&(delete d.z[c],document.removeEventListener?a.removeEventListener(c,d.T,l):document.detachEvent&&a.detachEvent("on"+c,d.T));u.Bb(d.z)&&(delete d.z,delete d.T,delete d.disabled);u.Bb(d)&&u.tc(a)};u.hc=function(a){function c(){return f}function d(){return l}if(!a||!a.Cb){var e=a||window.event;a={};for(var g in e)"layerX"!==g&&"layerY"!==g&&(a[g]=e[g]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=l;a.Ab=c};a.Ab=d;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();a.cancelBubble=f;a.Cb=c};a.Cb=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.nc=c;a.stopPropagation()};a.nc=d;if(a.clientX!=h){g=document.documentElement;var j=document.body;a.pageX=a.clientX+(g&&g.scrollLeft||j&&j.scrollLeft||0)-(g&&g.clientLeft||j&&j.clientLeft||0);a.pageY=a.clientY+(g&&g.scrollTop||j&&j.scrollTop||0)-(g&&g.clientTop||j&&j.clientTop||0)}a.which=a.charCode||a.keyCode;a.button!=h&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};u.j=function(a,c){var d=u.mc(a)?u.getData(a):{},e=a.parentNode||a.ownerDocument;"string"===typeof c&&(c={type:c,target:a});c=u.hc(c);d.T&&d.T.call(a,c);if(e&&!c.Cb())u.j(e,c);else if(!e&&!c.Ab()&&(d=u.getData(c.target),c.target[c.type])){d.disabled=f;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=l}return!c.Ab()};u.R=function(a,c,d){u.d(a,c,function(){u.t(a,c,arguments.callee);d.apply(this,arguments)})};var w=Object.prototype.hasOwnProperty;u.e=function(a,c){var d=document.createElement(a||"div"),e;for(e in c)w.call(c,e)&&(-1!==e.indexOf("aria-")||"role"==e?d.setAttribute(e,c[e]):d[e]=c[e]);return d};u.Z=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};u.i={};u.i.create=Object.create||function(a){function c(){}c.prototype=a;return new c};u.i.qa=function(a,c,d){for(var e in a)w.call(a,e)&&c.call(d||this,e,a[e])};u.i.B=function(a,c){if(!c)return a;for(var d in c)w.call(c,d)&&(a[d]=c[d]);return a};u.i.gc=function(a,c){var d,e,g;a=u.i.copy(a);for(d in c)w.call(c,d)&&(e=a[d],g=c[d],a[d]=u.i.oc(e)&&u.i.oc(g)?u.i.gc(e,g):c[d]);return a};u.i.copy=function(a){return u.i.B({},a)};u.i.oc=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};u.bind=function(a,c,d){function e(){return c.apply(a,arguments)}c.v||(c.v=u.v++);e.v=d?d+"_"+c.v:c.v;return e};u.oa={};u.v=1;u.expando="vdata"+(new Date).getTime();u.getData=function(a){var c=a[u.expando];c||(c=a[u.expando]=u.v++,u.oa[c]={});return u.oa[c]};u.mc=function(a){a=a[u.expando];return!(!a||u.Bb(u.oa[a]))};u.tc=function(a){var c=a[u.expando];if(c){delete u.oa[c];try{delete a[u.expando]}catch(d){a.removeAttribute?a.removeAttribute(u.expando):a[u.expando]=h}}};u.Bb=function(a){for(var c in a)if(a[c]!==h)return l;return f};u.p=function(a,c){-1==(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};u.u=function(a,c){if(-1!=a.className.indexOf(c)){for(var d=a.className.split(" "),e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};u.hb=u.e("video");u.P=navigator.userAgent;u.Dc=!!u.P.match(/iPhone/i);u.Cc=!!u.P.match(/iPad/i);u.Ec=!!u.P.match(/iPod/i);u.Ub=u.Dc||u.Cc||u.Ec;var x=u,y;var z=u.P.match(/OS (\d+)_/i);y=z&&z[1]?z[1]:b;x.td=y;u.$a=!!u.P.match(/Android.*AppleWebKit/i);var A=u,B=u.P.match(/Android (\d+)\./i);A.Ac=B&&B[1]?B[1]:h;u.Bc=function(){return!!u.P.match("Firefox")};u.xb=function(a){var c={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,e,g,j=d.length-1;0<=j;j--){e=d[j].name;g=d[j].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))g=g!==h?f:l;c[e]=g}return c};u.wd=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};u.zb=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};u.Ob={};u.r=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};u.Ja=function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),g=Math.floor(a/3600),j=Math.floor(c/60%60),k=Math.floor(c/3600),g=0<g||0<k?g+":":"";return g+(((g||10<=j)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};u.Ic=function(){document.body.focus();document.onselectstart=q(l)};u.od=function(){document.onselectstart=q(f)};u.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};u.round=function(a,c){c||(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};u.tb=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};u.get=function(a,c,d){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");});var g=new XMLHttpRequest;try{g.open("GET",a)}catch(j){d(j)}g.onreadystatechange=function(){4===g.readyState&&(200===g.status||e&&0===g.status?c(g.responseText):d&&d())};try{g.send()}catch(k){d&&d(k)}};u.gd=function(a){try{var c=window.localStorage||l;c&&(c.volume=a)}catch(d){22==d.code||1014==d.code?u.log("LocalStorage Full (VideoJS)",d):18==d.code?u.log("LocalStorage not allowed (VideoJS)",d):u.log("LocalStorage Error (VideoJS)",d)}};u.kc=function(a){a.match(/^https?:\/\//)||(a=u.e("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href);return a};u.log=function(){u.log.history=u.log.history||[];u.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};u.Qc=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0),top:c.top+(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0)}};u.c=u.ka.extend({g:function(a,c,d){this.a=a;this.f=u.i.copy(this.f);c=this.options(c);this.G=c.id||(c.el&&c.el.id?c.el.id:a.id()+"_component_"+u.v++);this.Wc=c.name||h;this.b=c.el||this.e();this.F=[];this.rb={};this.S={};if((a=this.f)&&a.children){var e=this;u.i.qa(a.children,function(a,c){c!==l&&!c.loadEvent&&(e[a]=e.Y(a,c))})}this.O(d)}});t=u.c.prototype;t.D=function(){if(this.F)for(var a=this.F.length-1;0<=a;a--)this.F[a].D&&this.F[a].D();this.S=this.rb=this.F=h;this.t();this.b.parentNode&&this.b.parentNode.removeChild(this.b);u.tc(this.b);this.b=h};t.qc=p("a");t.options=function(a){return a===b?this.f:this.f=u.i.gc(this.f,a)};t.e=function(a,c){return u.e(a,c)};t.r=p("b");t.id=p("G");t.name=p("Wc");t.children=p("F");t.Y=function(a,c){var d,e;"string"===typeof a?(e=a,c=c||{},d=c.componentClass||u.Z(e),c.name=e,d=new window.videojs[d](this.a||this,c)):d=a;this.F.push(d);"function"===typeof d.id&&(this.rb[d.id()]=d);(e=e||d.name&&d.name())&&(this.S[e]=d);"function"===typeof d.el&&d.el()&&(this.pa||this.b).appendChild(d.el());return d};t.removeChild=function(a){"string"===typeof a&&(a=this.S[a]);if(a&&this.F){for(var c=l,d=this.F.length-1;0<=d;d--)if(this.F[d]===a){c=f;this.F.splice(d,1);break}c&&(this.rb[a.id]=h,this.S[a.name]=h,(c=a.r())&&c.parentNode===(this.pa||this.b)&&(this.pa||this.b).removeChild(a.r()))}};t.Q=q("");t.d=function(a,c){u.d(this.b,a,u.bind(this,c));return this};t.t=function(a,c){u.t(this.b,a,c);return this};t.R=function(a,c){u.R(this.b,a,u.bind(this,c));return this};t.j=function(a,c){u.j(this.b,a,c);return this};t.O=function(a){a&&(this.aa?a.call(this):(this.Qa===b&&(this.Qa=[]),this.Qa.push(a)));return this};t.Sa=function(){this.aa=f;var a=this.Qa;if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.Qa=[];this.j("ready")}};t.p=function(a){u.p(this.b,a);return this};t.u=function(a){u.u(this.b,a);return this};t.show=function(){this.b.style.display="block";return this};t.w=function(){this.b.style.display="none";return this};t.$=function(){this.u("vjs-fade-out");this.p("vjs-fade-in");return this};t.sa=function(){this.u("vjs-fade-in");this.p("vjs-fade-out");return this};t.pc=function(){this.p("vjs-lock-showing");return this};t.Ta=function(){this.u("vjs-lock-showing");return this};t.disable=function(){this.w();this.show=m();this.$=m()};t.width=function(a,c){return C(this,"width",a,c)};t.height=function(a,c){return C(this,"height",a,c)};t.Mc=function(a,c){return this.width(a,f).height(c)};function C(a,c,d,e){if(d!==b)return a.b.style[c]=-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?d:"auto"===d?"":d+"px",e||a.j("resize"),a;if(!a.b)return 0;d=a.b.style[c];e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(a.b["offset"+u.Z(c)],10)}
u.o=u.c.extend({g:function(a,c){u.c.call(this,a,c);var d=l;this.d("touchstart",function(){d=f});this.d("touchmove",function(){d=l});var e=this;this.d("touchend",function(a){d&&e.n(a);a.preventDefault();a.stopPropagation()});this.d("click",this.n);this.d("focus",this.Ma);this.d("blur",this.La)}});t=u.o.prototype;t.e=function(a,c){c=u.i.B({className:this.Q(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.na||"Need Text")+"</span></div>",dd:"button","aria-live":"polite",tabIndex:0},c);return u.c.prototype.e.call(this,a,c)};t.Q=function(){return"vjs-control "+u.c.prototype.Q.call(this)};t.n=m();t.Ma=function(){u.d(document,"keyup",u.bind(this,this.ba))};t.ba=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.n()};t.La=function(){u.t(document,"keyup",u.bind(this,this.ba))};u.M=u.c.extend({g:function(a,c){u.c.call(this,a,c);this.Hc=this.S[this.f.barName];this.handle=this.S[this.f.handleName];a.d(this.rc,u.bind(this,this.update));this.d("mousedown",this.Na);this.d("touchstart",this.Na);this.d("focus",this.Ma);this.d("blur",this.La);this.d("click",this.n);this.a.d("controlsvisible",u.bind(this,this.update));a.O(u.bind(this,this.update));this.N={}}});t=u.M.prototype;t.e=function(a,c){c=c||{};c.className+=" vjs-slider";c=u.i.B({dd:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return u.c.prototype.e.call(this,a,c)};t.Na=function(a){a.preventDefault();u.Ic();this.N.move=u.bind(this,this.Hb);this.N.end=u.bind(this,this.Ib);u.d(document,"mousemove",this.N.move);u.d(document,"mouseup",this.N.end);u.d(document,"touchmove",this.N.move);u.d(document,"touchend",this.N.end);this.Hb(a)};t.Ib=function(){u.od();u.t(document,"mousemove",this.N.move,l);u.t(document,"mouseup",this.N.end,l);u.t(document,"touchmove",this.N.move,l);u.t(document,"touchend",this.N.end,l);this.update()};t.update=function(){if(this.b){var a,c=this.yb(),d=this.handle,e=this.Hc;isNaN(c)&&(c=0);a=c;if(d){a=this.b.offsetWidth;var g=d.r().offsetWidth;a=g?g/a:0;c*=1-a;a=c+a/2;d.r().style.left=u.round(100*c,2)+"%"}e.r().style.width=u.round(100*a,2)+"%"}};function D(a,c){var d,e,g,j;d=a.b;e=u.Qc(d);j=g=d.offsetWidth;d=a.handle;if(a.f.pd)return j=e.top,e=c.changedTouches?c.changedTouches[0].pageY:c.pageY,d&&(d=d.r().offsetHeight,j+=d/2,g-=d),Math.max(0,Math.min(1,(j-e+g)/g));g=e.left;e=c.changedTouches?c.changedTouches[0].pageX:c.pageX;d&&(d=d.r().offsetWidth,g+=d/2,j-=d);return Math.max(0,Math.min(1,(e-g)/j))}t.Ma=function(){u.d(document,"keyup",u.bind(this,this.ba))};t.ba=function(a){37==a.which?(a.preventDefault(),this.wc()):39==a.which&&(a.preventDefault(),this.xc())};t.La=function(){u.t(document,"keyup",u.bind(this,this.ba))};t.n=function(a){a.stopImmediatePropagation();a.preventDefault()};u.ga=u.c.extend();u.ga.prototype.defaultValue=0;u.ga.prototype.e=function(a,c){c=c||{};c.className+=" vjs-slider-handle";c=u.i.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return u.c.prototype.e.call(this,"div",c)};u.la=u.c.extend();function E(a,c){a.Y(c);c.d("click",u.bind(a,function(){this.Ta()}))}u.la.prototype.e=function(){var a=this.options().Kc||"ul";this.pa=u.e(a,{className:"vjs-menu-content"});a=u.c.prototype.e.call(this,"div",{append:this.pa,className:"vjs-menu"});a.appendChild(this.pa);u.d(a,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return a};u.L=u.o.extend({g:function(a,c){u.o.call(this,a,c);this.selected(c.selected)}});u.L.prototype.e=function(a,c){return u.o.prototype.e.call(this,"li",u.i.B({className:"vjs-menu-item",innerHTML:this.f.label},c))};u.L.prototype.n=function(){this.selected(f)};u.L.prototype.selected=function(a){a?(this.p("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.u("vjs-selected"),this.b.setAttribute("aria-selected",l))};u.ea=u.o.extend({g:function(a,c){u.o.call(this,a,c);this.ta=this.Ia();this.Y(this.ta);this.I&&0===this.I.length&&this.w();this.d("keyup",this.ba);this.b.setAttribute("aria-haspopup",f);this.b.setAttribute("role","button")}});t=u.ea.prototype;t.ma=l;t.Ia=function(){var a=new u.la(this.a);this.options().title&&a.r().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Z(this.A),md:-1}));if(this.I=this.sb())for(var c=0;c<this.I.length;c++)E(a,this.I[c]);return a};t.sb=m();t.Q=function(){return this.className+" vjs-menu-button "+u.o.prototype.Q.call(this)};t.Ma=m();t.La=m();t.n=function(){this.R("vjs-mouseout",u.bind(this,function(){this.ta.Ta();this.b.blur()}));this.ma?F(this):G(this)};t.ba=function(a){a.preventDefault();32==a.which||13==a.which?this.ma?F(this):G(this):27==a.which&&this.ma&&F(this)};function G(a){a.ma=f;a.ta.pc();a.b.setAttribute("aria-pressed",f);a.I&&0<a.I.length&&a.I[0].r().focus()}
function F(a){a.ma=l;a.ta.Ta();a.b.setAttribute("aria-pressed",l)}
u.C=u.c.extend({g:function(a,c,d){this.K=a;c=u.i.B(aa(a),c);this.s={};this.sc=c.poster;this.Ha=c.controls;c.customControlsOnMobile!==f&&(u.Ub||u.$a)?(a.controls=c.controls,this.Ha=l):a.controls=l;u.c.call(this,this,c,d);this.R("play",function(a){u.j(this.b,{type:"firstplay",target:this.b})||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())});this.d("ended",this.Yc);this.d("play",this.Kb);this.d("firstplay",this.Zc);this.d("pause",this.Jb);this.d("progress",this.ad);this.d("durationchange",this.Xc);this.d("error",this.Gb);this.d("fullscreenchange",this.$c);this.d("mouseout",this.Uc);u.ua[this.G]=this;c.plugins&&u.i.qa(c.plugins,function(a,c){this[a](c)},this)}});t=u.C.prototype;t.f=u.options;t.D=function(){u.ua[this.G]=h;this.K&&this.K.player&&(this.K.player=h);this.b&&this.b.player&&(this.b.player=h);clearInterval(this.Pa);this.wa();this.h&&this.h.D();u.c.prototype.D.call(this)};function aa(a){var c={sources:[],tracks:[]};u.i.B(c,u.xb(a));if(a.hasChildNodes())for(var d,e=a.childNodes,g=0,j=e.length;g<j;g++)a=e[g],d=a.nodeName.toLowerCase(),"source"===d?c.sources.push(u.xb(a)):"track"===d&&c.tracks.push(u.xb(a));return c}
t.e=function(){var a=this.b=u.c.prototype.e.call(this,"div"),c=this.K;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes())for(var d=c.childNodes.length,e=0,g=c.childNodes;e<d;e++)("source"==g[0].nodeName.toLowerCase()||"track"==g[0].nodeName.toLowerCase())&&c.removeChild(g[0]);c.id=c.id||"vjs_video_"+u.v++;a.id=c.id;a.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=a.player=this;this.p("vjs-paused");this.width(this.f.width,f);this.height(this.f.height,f);c.parentNode&&c.parentNode.insertBefore(a,c);u.zb(c,a);return a};function H(a,c,d){a.h?(a.aa=l,a.h.D(),a.Eb&&(a.Eb=l,clearInterval(a.Pa)),a.Fb&&I(a),a.h=l):"Html5"!==c&&a.K&&(a.b.removeChild(a.K),a.K.qc=h,a.K=h);a.xa=c;a.aa=l;var e=u.i.B({source:d,parentEl:a.b},a.f[c.toLowerCase()]);d&&(d.src==a.s.src&&0<a.s.currentTime&&(e.startTime=a.s.currentTime),a.s.src=d.src);a.h=new window.videojs[c](a,e);a.h.O(function(){this.a.Sa();if(!this.k.Mb){var a=this.a;a.Eb=f;a.Pa=setInterval(u.bind(a,function(){this.s.mb<this.buffered().end(0)?this.j("progress"):1==this.Ga()&&(clearInterval(this.Pa),this.j("progress"))}),500);a.h.R("progress",function(){this.k.Mb=f;var a=this.a;a.Eb=l;clearInterval(a.Pa)})}this.k.Pb||(a=this.a,a.Fb=f,a.d("play",a.yc),a.d("pause",a.wa),a.h.R("timeupdate",function(){this.k.Pb=f;I(this.a)}))})}function I(a){a.Fb=l;a.wa();a.t("play",a.yc);a.t("pause",a.wa)}t.yc=function(){this.fc&&this.wa();this.fc=setInterval(u.bind(this,function(){this.j("timeupdate")}),250)};t.wa=function(){clearInterval(this.fc)};t.Yc=function(){this.f.loop&&(this.currentTime(0),this.play())};t.Kb=function(){u.u(this.b,"vjs-paused");u.p(this.b,"vjs-playing")};t.Zc=function(){this.f.starttime&&this.currentTime(this.f.starttime)};t.Jb=function(){u.u(this.b,"vjs-playing");u.p(this.b,"vjs-paused")};t.ad=function(){1==this.Ga()&&this.j("loadedalldata")};t.Xc=function(){this.duration(J(this,"duration"))};t.Gb=function(a){u.log("Video Error",a)};t.$c=function(){this.H?this.p("vjs-fullscreen"):this.u("vjs-fullscreen")};t.Uc=function(a){var c=this.G;a||(a=window.event);if(a!==b){var d=window.event?a.srcElement:a.target;for(a=a.relatedTarget?a.relatedTarget:a.toElement;a!==b&&a!==h&&a!=d&&a.id!=c&&"BODY"!=a.nodeName;)a=a.parentNode;a==d||a!==b&&a!==h&&a.id==c||this.j("vjs-mouseout")}};function K(a,c,d){if(a.h&&!a.h.aa)a.h.O(function(){this[c](d)});else try{a.h[c](d)}catch(e){throw u.log(e),e;}}
function J(a,c){if(a.h.aa)try{return a.h[c]()}catch(d){throw a.h[c]===b?u.log("Video.js: "+c+" method not defined for "+a.xa+" playback technology.",d):"TypeError"==d.name?(u.log("Video.js: "+c+" unavailable on "+a.xa+" playback technology element.",d),a.h.aa=l):u.log(d),d;}}t.play=function(){K(this,"play");return this};t.pause=function(){K(this,"pause");return this};t.paused=function(){return J(this,"paused")===l?l:f};t.currentTime=function(a){return a!==b?(this.s.yd=a,K(this,"setCurrentTime",a),this.Fb&&this.j("timeupdate"),this):this.s.currentTime=J(this,"currentTime")||0};t.duration=function(a){return a!==b?(this.s.duration=parseFloat(a),this):this.s.duration};t.buffered=function(){var a=J(this,"buffered"),c=this.s.mb=this.s.mb||0;a&&(0<a.length&&a.end(0)!==c)&&(c=a.end(0),this.s.mb=c);return u.tb(0,c)};t.Ga=function(){return this.duration()?this.buffered().end(0)/this.duration():0};t.volume=function(a){if(a!==b)return a=Math.max(0,Math.min(1,parseFloat(a))),this.s.volume=a,K(this,"setVolume",a),u.gd(a),this;a=parseFloat(J(this,"volume"));return isNaN(a)?1:a};t.muted=function(a){return a!==b?(K(this,"setMuted",a),this):J(this,"muted")||l};t.Ra=function(){return J(this,"supportsFullScreen")||l};t.va=function(){var a=u.Ob.va;this.H=f;a?(u.d(document,a.vb,u.bind(this,function(c){this.H=document[a.H];this.H===l&&u.t(document,a.vb,arguments.callee);this.j("fullscreenchange")})),this.b[a.uc]()):this.h.Ra()?K(this,"enterFullScreen"):(this.Sc=f,this.Nc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.p(document.body,"vjs-full-window"),this.j("enterFullWindow"),this.j("fullscreenchange"));return this};t.pb=function(){var a=u.Ob.va;this.H=l;if(a)document[a.ob]();else this.h.Ra()?K(this,"exitFullScreen"):(L(this),this.j("fullscreenchange"));return this};t.ic=function(a){27===a.keyCode&&(this.H===f?this.pb():L(this))};function L(a){a.Sc=l;u.t(document,"keydown",a.ic);document.documentElement.style.overflow=a.Nc;u.u(document.body,"vjs-full-window");a.j("exitFullWindow")}
t.src=function(a){if(a instanceof Array){var c;a:{c=a;for(var d=0,e=this.f.techOrder;d<e.length;d++){var g=u.Z(e[d]),j=window.videojs[g];if(j.isSupported())for(var k=0,r=c;k<r.length;k++){var n=r[k];if(j.canPlaySource(n)){c={source:n,h:g};break a}}}c=l}c?(a=c.source,c=c.h,c==this.xa?this.src(a):H(this,c,a)):this.b.appendChild(u.e("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else a instanceof
Object?window.videojs[this.xa].canPlaySource(a)?this.src(a.src):this.src([a]):(this.s.src=a,this.aa?(K(this,"src",a),"auto"==this.f.preload&&this.load(),this.f.autoplay&&this.play()):this.O(function(){this.src(a)}));return this};t.load=function(){K(this,"load");return this};t.currentSrc=function(){return J(this,"currentSrc")||this.s.src||""};t.Oa=function(a){return a!==b?(K(this,"setPreload",a),this.f.preload=a,this):J(this,"preload")};t.autoplay=function(a){return a!==b?(K(this,"setAutoplay",a),this.f.autoplay=a,this):J(this,"autoplay")};t.loop=function(a){return a!==b?(K(this,"setLoop",a),this.f.loop=a,this):J(this,"loop")};t.poster=function(a){a!==b&&(this.sc=a);return this.sc};t.controls=function(a){a!==b&&this.Ha!==a&&(this.Ha=!!a,this.j("controlschange"));return this.Ha};t.error=function(){return J(this,"error")};var M,N,O;O=document.createElement("div");N={};O.ud!==b?(N.uc="requestFullscreen",N.ob="exitFullscreen",N.vb="fullscreenchange",N.H="fullScreen"):(document.mozCancelFullScreen?(M="moz",N.H=M+"FullScreen"):(M="webkit",N.H=M+"IsFullScreen"),O[M+"RequestFullScreen"]&&(N.uc=M+"RequestFullScreen",N.ob=M+"CancelFullScreen"),N.vb=M+"fullscreenchange");document[N.ob]&&(u.Ob.va=N);u.da=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.controls()||this.disable();a.R("play",u.bind(this,function(){var a,c=u.bind(this,this.$),g=u.bind(this,this.sa);this.$();"ontouchstart"in window||(this.a.d("mouseover",c),this.a.d("vjs-mouseout",g),this.a.d("pause",u.bind(this,this.pc)),this.a.d("play",u.bind(this,this.Ta)));a=l;this.a.d("touchstart",function(){a=f});this.a.d("touchmove",function(){a=l});this.a.d("touchend",u.bind(this,function(c){var e;a&&(e=this.r().className.search("fade-in"),-1!==e?this.sa():this.$());a=l;this.a.paused()||c.preventDefault()}))}))}});u.da.prototype.f={zd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};u.da.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})};u.da.prototype.$=function(){u.c.prototype.$.call(this);this.a.j("controlsvisible")};u.da.prototype.sa=function(){u.c.prototype.sa.call(this);this.a.j("controlshidden")};u.Xb=u.o.extend({g:function(a,c){u.o.call(this,a,c);a.d("play",u.bind(this,this.Kb));a.d("pause",u.bind(this,this.Jb))}});t=u.Xb.prototype;t.na="Play";t.Q=function(){return"vjs-play-control "+u.o.prototype.Q.call(this)};t.n=function(){this.a.paused()?this.a.play():this.a.pause()};t.Kb=function(){u.u(this.b,"vjs-paused");u.p(this.b,"vjs-playing");this.b.children[0].children[0].innerHTML="Pause"};t.Jb=function(){u.u(this.b,"vjs-playing");u.p(this.b,"vjs-paused");this.b.children[0].children[0].innerHTML="Play"};u.Xa=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.d("timeupdate",u.bind(this,this.Aa))}});u.Xa.prototype.e=function(){var a=u.c.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});a.appendChild(u.e("div").appendChild(this.content));return a};u.Xa.prototype.Aa=function(){var a=this.a.Nb?this.a.s.currentTime:this.a.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.Ja(a,this.a.duration())};u.Ya=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.d("timeupdate",u.bind(this,this.Aa))}});u.Ya.prototype.e=function(){var a=u.c.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});a.appendChild(u.e("div").appendChild(this.content));return a};u.Ya.prototype.Aa=function(){this.a.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.Ja(this.a.duration()))};u.ac=u.c.extend({g:function(a,c){u.c.call(this,a,c)}});u.ac.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};u.fb=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.d("timeupdate",u.bind(this,this.Aa))}});u.fb.prototype.e=function(){var a=u.c.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});a.appendChild(u.e("div").appendChild(this.content));return a};u.fb.prototype.Aa=function(){this.a.duration()&&this.a.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.Ja(this.a.duration()-this.a.currentTime()))};u.Ca=u.o.extend({g:function(a,c){u.o.call(this,a,c)}});u.Ca.prototype.na="Fullscreen";u.Ca.prototype.Q=function(){return"vjs-fullscreen-control "+u.o.prototype.Q.call(this)};u.Ca.prototype.n=function(){this.a.H?(this.a.pb(),this.b.children[0].children[0].innerHTML="Fullscreen"):(this.a.va(),this.b.children[0].children[0].innerHTML="Non-Fullscreen")};u.eb=u.c.extend({g:function(a,c){u.c.call(this,a,c)}});u.eb.prototype.f={children:{seekBar:{}}};u.eb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})};u.Yb=u.M.extend({g:function(a,c){u.M.call(this,a,c);a.d("timeupdate",u.bind(this,this.za));a.O(u.bind(this,this.za))}});t=u.Yb.prototype;t.f={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};t.rc="timeupdate";t.e=function(){return u.M.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};t.za=function(){var a=this.a.Nb?this.a.s.currentTime:this.a.currentTime();this.b.setAttribute("aria-valuenow",u.round(100*this.yb(),2));this.b.setAttribute("aria-valuetext",u.Ja(a,this.a.duration()))};t.yb=function(){return this.a.currentTime()/this.a.duration()};t.Na=function(a){u.M.prototype.Na.call(this,a);this.a.Nb=f;this.qd=!this.a.paused();this.a.pause()};t.Hb=function(a){a=D(this,a)*this.a.duration();a==this.a.duration()&&(a-=0.1);this.a.currentTime(a)};t.Ib=function(a){u.M.prototype.Ib.call(this,a);this.a.Nb=l;this.qd&&this.a.play()};t.xc=function(){this.a.currentTime(this.a.currentTime()+5)};t.wc=function(){this.a.currentTime(this.a.currentTime()-5)};u.ab=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.d("progress",u.bind(this,this.update))}});u.ab.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};u.ab.prototype.update=function(){this.b.style&&(this.b.style.width=u.round(100*this.a.Ga(),2)+"%")};u.Wb=u.c.extend({g:function(a,c){u.c.call(this,a,c)}});u.Wb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};u.gb=u.ga.extend();u.gb.prototype.defaultValue="00:00";u.gb.prototype.e=function(){return u.ga.prototype.e.call(this,"div",{className:"vjs-seek-handle"})};u.jb=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.h&&(a.h.k&&a.h.k.U===l)&&this.p("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.h.k&&a.h.k.U===l?this.p("vjs-hidden"):this.u("vjs-hidden")}))}});u.jb.prototype.f={children:{volumeBar:{}}};u.jb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})};u.ib=u.M.extend({g:function(a,c){u.M.call(this,a,c);a.d("volumechange",u.bind(this,this.za));a.O(u.bind(this,this.za));setTimeout(u.bind(this,this.update),0)}});t=u.ib.prototype;t.za=function(){this.b.setAttribute("aria-valuenow",u.round(100*this.a.volume(),2));this.b.setAttribute("aria-valuetext",u.round(100*this.a.volume(),2)+"%")};t.f={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};t.rc="volumechange";t.e=function(){return u.M.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};t.Hb=function(a){this.a.volume(D(this,a))};t.yb=function(){return this.a.muted()?0:this.a.volume()};t.xc=function(){this.a.volume(this.a.volume()+0.1)};t.wc=function(){this.a.volume(this.a.volume()-0.1)};u.bc=u.c.extend({g:function(a,c){u.c.call(this,a,c)}});u.bc.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};u.kb=u.ga.extend();u.kb.prototype.defaultValue="00:00";u.kb.prototype.e=function(){return u.ga.prototype.e.call(this,"div",{className:"vjs-volume-handle"})};u.fa=u.o.extend({g:function(a,c){u.o.call(this,a,c);a.d("volumechange",u.bind(this,this.update));a.h&&(a.h.k&&a.h.k.U===l)&&this.p("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.h.k&&a.h.k.U===l?this.p("vjs-hidden"):this.u("vjs-hidden")}))}});u.fa.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};u.fa.prototype.n=function(){this.a.muted(this.a.muted()?l:f)};u.fa.prototype.update=function(){var a=this.a.volume(),c=3;0===a||this.a.muted()?c=0:0.33>a?c=1:0.67>a&&(c=2);this.a.muted()?"Unmute"!=this.b.children[0].children[0].innerHTML&&(this.b.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.b.children[0].children[0].innerHTML&&(this.b.children[0].children[0].innerHTML="Mute");for(a=0;4>a;a++)u.u(this.b,"vjs-vol-"+a);u.p(this.b,"vjs-vol-"+c)};u.Ea=u.ea.extend({g:function(a,c){u.ea.call(this,a,c);a.d("volumechange",u.bind(this,this.update));a.h&&(a.h.k&&a.h.k.U===l)&&this.p("vjs-hidden");a.d("loadstart",u.bind(this,function(){a.h.k&&a.h.k.U===l?this.p("vjs-hidden"):this.u("vjs-hidden")}));this.p("vjs-menu-button")}});u.Ea.prototype.Ia=function(){var a=new u.la(this.a,{Kc:"div"}),c=new u.ib(this.a,u.i.B({pd:f},this.f.Cd));a.Y(c);return a};u.Ea.prototype.n=function(){u.fa.prototype.n.call(this);u.ea.prototype.n.call(this)};u.Ea.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};u.Ea.prototype.update=u.fa.prototype.update;u.cb=u.o.extend({g:function(a,c){u.o.call(this,a,c);(!a.poster()||!a.controls())&&this.w();a.d("play",u.bind(this,this.w))}});u.cb.prototype.e=function(){var a=u.e("div",{className:"vjs-poster",tabIndex:-1}),c=this.a.poster();c&&("backgroundSize"in a.style?a.style.backgroundImage='url("'+c+'")':a.appendChild(u.e("img",{src:c})));return a};u.cb.prototype.n=function(){this.a.play()};u.Vb=u.c.extend({g:function(a,c){u.c.call(this,a,c);a.d("canplay",u.bind(this,this.w));a.d("canplaythrough",u.bind(this,this.w));a.d("playing",u.bind(this,this.w));a.d("seeked",u.bind(this,this.w));a.d("seeking",u.bind(this,this.show));a.d("seeked",u.bind(this,this.w));a.d("error",u.bind(this,this.show));a.d("waiting",u.bind(this,this.show))}});u.Vb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})};u.Va=u.o.extend({g:function(a,c){u.o.call(this,a,c);a.controls()||this.w();a.d("play",u.bind(this,this.w))}});u.Va.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};u.Va.prototype.n=function(){this.a.play()};u.q=u.c.extend({g:function(a,c,d){u.c.call(this,a,c,d)}});u.q.prototype.n=u.$a?m():function(){this.a.controls()&&(this.a.paused()?this.a.play():this.a.pause())};u.q.prototype.k={U:f,jc:l,Mb:l,Pb:l};u.media={};u.media.Ua="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");function ba(){var a=u.media.Ua[i];return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}for(var i=u.media.Ua.length-1;0<=i;i--)u.q.prototype[u.media.Ua[i]]=ba();u.m=u.q.extend({g:function(a,c,d){this.k.U=u.m.Jc();this.k.Vc=!u.Ub;this.k.jc=f;u.q.call(this,a,c,d);(c=c.source)&&this.b.currentSrc==c.src?a.j("loadstart"):c&&(this.b.src=c.src);a.O(function(){this.f.autoplay&&this.paused()&&(delete this.K.poster,this.play())});this.d("click",this.n);for(a=u.m.Za.length-1;0<=a;a--)u.d(this.b,u.m.Za[a],u.bind(this.a,this.Pc));this.Sa()}});t=u.m.prototype;t.D=function(){u.q.prototype.D.call(this)};t.e=function(){var a=this.a,c=a.K;if(!c||this.k.Vc===l)c?(c.player=h,a.K=h,a.r().removeChild(c),c=c.cloneNode(l)):c=u.e("video",{id:a.id()+"_html5_api",className:"vjs-tech"}),c.player=a,u.zb(c,a.r());for(var d=["autoplay","preload","loop","muted"],e=d.length-1;0<=e;e--){var g=d[e];a.f[g]!==h&&(c[g]=a.f[g])}return c};t.Pc=function(a){this.j(a);a.stopPropagation()};t.play=function(){this.b.play()};t.pause=function(){this.b.pause()};t.paused=function(){return this.b.paused};t.currentTime=function(){return this.b.currentTime};t.fd=function(a){try{this.b.currentTime=a}catch(c){u.log(c,"Video is not ready. (Video.js)")}};t.duration=function(){return this.b.duration||0};t.buffered=function(){return this.b.buffered};t.volume=function(){return this.b.volume};t.ld=function(a){this.b.volume=a};t.muted=function(){return this.b.muted};t.jd=function(a){this.b.muted=a};t.width=function(){return this.b.offsetWidth};t.height=function(){return this.b.offsetHeight};t.Ra=function(){return"function"==typeof this.b.webkitEnterFullScreen&&(/Android/.test(u.P)||!/Chrome|Mac OS X 10.5/.test(u.P))?f:l};t.src=function(a){this.b.src=a};t.load=function(){this.b.load()};t.currentSrc=function(){return this.b.currentSrc};t.Oa=function(){return this.b.Oa};t.kd=function(a){this.b.Oa=a};t.autoplay=function(){return this.b.autoplay};t.ed=function(a){this.b.autoplay=a};t.loop=function(){return this.b.loop};t.hd=function(a){this.b.loop=a};t.error=function(){return this.b.error};u.m.isSupported=function(){return!!document.createElement("video").canPlayType};u.m.nb=function(a){return!!document.createElement("video").canPlayType(a.type)};u.m.Jc=function(){var a=u.hb.volume;u.hb.volume=a/2+0.1;return a!==u.hb.volume};u.m.Za="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");u.$a&&3>u.Ac&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?"maybe":""});u.l=u.q.extend({g:function(a,c,d){u.q.call(this,a,c,d);d=c.source;var e=c.parentEl,g=this.b=u.e("div",{id:a.id()+"_temp_flash"}),j=a.id()+"_flash_api";a=a.f;var k=u.i.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.Oa,loop:a.loop,muted:a.muted},c.flashVars),r=u.i.B({wmode:"opaque",bgcolor:"#000000"},c.params),n=u.i.B({id:j,name:j,"class":"vjs-tech"},c.attributes);d&&(k.src=encodeURIComponent(u.kc(d.src)));u.zb(g,e);c.startTime&&this.O(function(){this.load();this.play();this.currentTime(c.startTime)});if(c.iFrameMode===f&&!u.Bc){var s=u.e("iframe",{id:j+"_iframe",name:j+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});k.readyFunction="ready";k.eventProxyFunction="events";k.errorEventProxyFunction="errors";u.d(s,"load",u.bind(this,function(){var a,d=s.contentWindow;a=s.contentDocument?s.contentDocument:s.contentWindow.document;a.write(u.l.lc(c.swf,k,r,n));d.player=this.a;d.ready=u.bind(this.a,function(c){c=a.getElementById(c);var d=this.h;d.b=c;u.d(c,"click",d.bind(d.n));u.l.qb(d)});d.events=u.bind(this.a,function(a,c){this&&"flash"===this.xa&&this.j(c)});d.errors=u.bind(this.a,function(a,c){u.log("Flash Error",c)})}));g.parentNode.replaceChild(s,g)}else u.l.Oc(c.swf,g,k,r,n)}});t=u.l.prototype;t.D=function(){u.q.prototype.D.call(this)};t.play=function(){this.b.vjs_play()};t.pause=function(){this.b.vjs_pause()};t.src=function(a){a=u.kc(a);this.b.vjs_src(a);if(this.a.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};t.load=function(){this.b.vjs_load()};t.poster=function(){this.b.vjs_getProperty("poster")};t.buffered=function(){return u.tb(0,this.b.vjs_getProperty("buffered"))};t.Ra=q(l);var P=u.l.prototype,Q="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),R="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" ");function ca(){var a=Q[S],c=a.charAt(0).toUpperCase()+a.slice(1);P["set"+c]=function(c){return this.b.vjs_setProperty(a,c)}}function T(a){P[a]=function(){return this.b.vjs_getProperty(a)}}var S;for(S=0;S<Q.length;S++)T(Q[S]),ca();for(S=0;S<R.length;S++)T(R[S]);u.l.isSupported=function(){return 10<=u.l.version()[0]};u.l.nb=function(a){if(a.type in u.l.Rc)return"maybe"};u.l.Rc={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};u.l.onReady=function(a){a=u.r(a);var c=a.player||a.parentNode.player,d=c.h;a.player=c;d.b=a;d.d("click",d.n);u.l.qb(d)};u.l.qb=function(a){a.r().vjs_getProperty?a.Sa():setTimeout(function(){u.l.qb(a)},50)};u.l.onEvent=function(a,c){u.r(a).player.j(c)};u.l.onError=function(a,c){u.r(a).player.j("error");u.log("Flash Error",c,a)};u.l.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};u.l.Oc=function(a,c,d,e,g){a=u.l.lc(a,d,e,g);a=u.e("div",{innerHTML:a}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(a,c);var j=d.childNodes[0];setTimeout(function(){j.style.display="block"},1E3)};u.l.lc=function(a,c,d,e){var g="",j="",k="";c&&u.i.qa(c,function(a,c){g+=a+"="+c+"&amp;"});d=u.i.B({movie:a,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},d);u.i.qa(d,function(a,c){j+='<param name="'+a+'" value="'+c+'" />'});e=u.i.B({data:a,width:"100%",height:"100%"},e);u.i.qa(e,function(a,c){k+=a+'="'+c+'" '});return'<object type="application/x-shockwave-flash"'+k+">"+j+"</object>"};u.Fc=u.c.extend({g:function(a,c,d){u.c.call(this,a,c,d);if(!a.f.sources||0===a.f.sources.length){c=0;for(d=a.f.techOrder;c<d.length;c++){var e=u.Z(d[c]),g=window.videojs[e];if(g&&g.isSupported()){H(a,e);break}}}else a.src(a.f.sources)}});function U(a){a.ya=a.ya||[];return a.ya}function V(a,c,d){for(var e=a.ya,g=0,j=e.length,k,r;g<j;g++)k=e[g],k.id()===c?(k.show(),r=k):d&&(k.J()==d&&0<k.mode())&&k.disable();(c=r?r.J():d?d:l)&&a.j(c+"trackchange")}
u.V=u.c.extend({g:function(a,c){u.c.call(this,a,c);this.G=c.id||"vjs_"+c.kind+"_"+c.language+"_"+u.v++;this.vc=c.src;this.Lc=c["default"]||c.dflt;this.nd=c.title;this.xd=c.srclang;this.Tc=c.label;this.ha=[];this.cc=[];this.ia=this.ja=0;this.a.d("fullscreenchange",u.bind(this,this.Gc))}});t=u.V.prototype;t.J=p("A");t.src=p("vc");t.ub=p("Lc");t.title=p("nd");t.label=p("Tc");t.readyState=p("ja");t.mode=p("ia");t.Gc=function(){this.b.style.fontSize=this.a.H?140*(screen.width/this.a.width())+"%":""};t.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})};t.show=function(){W(this);this.ia=2;u.c.prototype.show.call(this)};t.w=function(){W(this);this.ia=1;u.c.prototype.w.call(this)};t.disable=function(){2==this.ia&&this.w();this.a.t("timeupdate",u.bind(this,this.update,this.G));this.a.t("ended",u.bind(this,this.reset,this.G));this.reset();this.a.S.textTrackDisplay.removeChild(this);this.ia=0};function W(a){0===a.ja&&a.load();0===a.ia&&(a.a.d("timeupdate",u.bind(a,a.update,a.G)),a.a.d("ended",u.bind(a,a.reset,a.G)),("captions"===a.A||"subtitles"===a.A)&&a.a.S.textTrackDisplay.Y(a))}t.load=function(){0===this.ja&&(this.ja=1,u.get(this.vc,u.bind(this,this.bd),u.bind(this,this.Gb)))};t.Gb=function(a){this.error=a;this.ja=3;this.j("error")};t.bd=function(a){var c,d;a=a.split("\n");for(var e="",g=1,j=a.length;g<j;g++)if(e=u.trim(a[g])){-1==e.indexOf("--\x3e")?(c=e,e=u.trim(a[++g])):c=this.ha.length;c={id:c,index:this.ha.length};d=e.split(" --\x3e ");c.startTime=X(d[0]);c.ra=X(d[1]);for(d=[];a[++g]&&(e=u.trim(a[g]));)d.push(e);c.text=d.join("<br/>");this.ha.push(c)}this.ja=2;this.j("loaded")};function X(a){var c=a.split(":");a=0;var d,e,g;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);g=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);g&&(a+=g/1E3);return a}
t.update=function(){if(0<this.ha.length){var a=this.a.currentTime();if(this.Lb===b||a<this.Lb||this.Ka<=a){var c=this.ha,d=this.a.duration(),e=0,g=l,j=[],k,r,n,s;a>=this.Ka||this.Ka===b?s=this.wb!==b?this.wb:0:(g=f,s=this.Db!==b?this.Db:c.length-1);for(;;){n=c[s];if(n.ra<=a)e=Math.max(e,n.ra),n.Fa&&(n.Fa=l);else if(a<n.startTime){if(d=Math.min(d,n.startTime),n.Fa&&(n.Fa=l),!g)break}else g?(j.splice(0,0,n),r===b&&(r=s),k=s):(j.push(n),k===b&&(k=s),r=s),d=Math.min(d,n.ra),e=Math.max(e,n.startTime),n.Fa=f;if(g)if(0===s)break;else s--;else if(s===c.length-1)break;else s++}this.cc=j;this.Ka=d;this.Lb=e;this.wb=k;this.Db=r;a=this.cc;c="";d=0;for(e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+a[d].text+"</span>";this.b.innerHTML=c;this.j("cuechange")}}};t.reset=function(){this.Ka=0;this.Lb=this.a.duration();this.Db=this.wb=0};u.Rb=u.V.extend();u.Rb.prototype.A="captions";u.Zb=u.V.extend();u.Zb.prototype.A="subtitles";u.Tb=u.V.extend();u.Tb.prototype.A="chapters";u.$b=u.c.extend({g:function(a,c,d){u.c.call(this,a,c,d);if(a.f.tracks&&0<a.f.tracks.length){c=this.a;a=a.f.tracks;var e;for(d=0;d<a.length;d++){e=a[d];var g=c,j=e.kind,k=e.label,r=e.language,n=e;e=g.ya=g.ya||[];n=n||{};n.kind=j;n.label=k;n.language=r;j=u.Z(j||"subtitles");g=new window.videojs[j+"Track"](g,n);e.push(g)}}}});u.$b.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-text-track-display"})};u.X=u.L.extend({g:function(a,c){var d=this.ca=c.track;c.label=d.label();c.selected=d.ub();u.L.call(this,a,c);this.a.d(d.J()+"trackchange",u.bind(this,this.update))}});u.X.prototype.n=function(){u.L.prototype.n.call(this);V(this.a,this.ca.G,this.ca.J())};u.X.prototype.update=function(){this.selected(2==this.ca.mode())};u.bb=u.X.extend({g:function(a,c){c.track={J:function(){return c.kind},qc:a,label:function(){return c.kind+" off"},ub:q(l),mode:q(l)};u.X.call(this,a,c);this.selected(f)}});u.bb.prototype.n=function(){u.X.prototype.n.call(this);V(this.a,this.ca.G,this.ca.J())};u.bb.prototype.update=function(){for(var a=U(this.a),c=0,d=a.length,e,g=f;c<d;c++)e=a[c],e.J()==this.ca.J()&&2==e.mode()&&(g=l);this.selected(g)};u.W=u.ea.extend({g:function(a,c){u.ea.call(this,a,c);1>=this.I.length&&this.w()}});u.W.prototype.sb=function(){var a=[],c;a.push(new u.bb(this.a,{kind:this.A}));for(var d=0;d<U(this.a).length;d++)c=U(this.a)[d],c.J()===this.A&&a.push(new u.X(this.a,{track:c}));return a};u.Ba=u.W.extend({g:function(a,c,d){u.W.call(this,a,c,d);this.b.setAttribute("aria-label","Captions Menu")}});u.Ba.prototype.A="captions";u.Ba.prototype.na="Captions";u.Ba.prototype.className="vjs-captions-button";u.Da=u.W.extend({g:function(a,c,d){u.W.call(this,a,c,d);this.b.setAttribute("aria-label","Subtitles Menu")}});u.Da.prototype.A="subtitles";u.Da.prototype.na="Subtitles";u.Da.prototype.className="vjs-subtitles-button";u.Sb=u.W.extend({g:function(a,c,d){u.W.call(this,a,c,d);this.b.setAttribute("aria-label","Chapters Menu")}});t=u.Sb.prototype;t.A="chapters";t.na="Chapters";t.className="vjs-chapters-button";t.sb=function(){for(var a=[],c,d=0;d<U(this.a).length;d++)c=U(this.a)[d],c.J()===this.A&&a.push(new u.X(this.a,{track:c}));return a};t.Ia=function(){for(var a=U(this.a),c=0,d=a.length,e,g,j=this.I=[];c<d;c++)if(e=a[c],e.J()==this.A&&e.ub()){if(2>e.readyState()){this.vd=e;e.d("loaded",u.bind(this,this.Ia));return}g=e;break}a=this.ta=new u.la(this.a);a.b.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Z(this.A),md:-1}));if(g){e=g.ha;for(var k,c=0,d=e.length;c<d;c++)k=e[c],k=new u.Wa(this.a,{track:g,cue:k}),j.push(k),a.Y(k)}0<this.I.length&&this.show();return a};u.Wa=u.L.extend({g:function(a,c){var d=this.ca=c.track,e=this.cue=c.cue,g=a.currentTime();c.label=e.text;c.selected=e.startTime<=g&&g<e.ra;u.L.call(this,a,c);d.d("cuechange",u.bind(this,this.update))}});u.Wa.prototype.n=function(){u.L.prototype.n.call(this);this.a.currentTime(this.cue.startTime);this.update(this.cue.startTime)};u.Wa.prototype.update=function(){var a=this.cue,c=this.a.currentTime();this.selected(a.startTime<=c&&c<a.ra)};u.i.B(u.da.prototype.f.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Y=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(a,e){var k,r,n=a[e];if(n&&"object"===typeof n)for(k in n)Object.prototype.hasOwnProperty.call(n,k)&&(r=d(n,k),r!==b?n[k]=r:delete n[k]);return c.call(a,e,n)}var e;a=String(a);Y.lastIndex=0;Y.test(a)&&(a=a.replace(Y,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}
u.dc=function(){var a,c,d=document.getElementsByTagName("video");if(d&&0<d.length)for(var e=0,g=d.length;e<g;e++)if((c=d[e])&&c.getAttribute)c.player===b&&(a=c.getAttribute("data-setup"),a!==h&&(a=u.JSON.parse(a||"{}"),v(c,a)));else{u.lb();break}else u.rd||u.lb()};u.lb=function(){setTimeout(u.dc,1)};u.R(window,"load",function(){u.rd=f});u.lb();u.cd=function(a,c){u.C.prototype[a]=c};var Z=this;Z.sd=f;function $(a,c){var d=a.split("."),e=Z;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&c!==b?e[g]=c:e=e[g]?e[g]:e[g]={}};$("videojs",u);$("_V_",u);$("videojs.options",u.options);$("videojs.players",u.ua);$("videojs.cache",u.oa);$("videojs.Component",u.c);u.c.prototype.dispose=u.c.prototype.D;u.c.prototype.createEl=u.c.prototype.e;u.c.prototype.el=u.c.prototype.r;u.c.prototype.addChild=u.c.prototype.Y;u.c.prototype.children=u.c.prototype.children;u.c.prototype.on=u.c.prototype.d;u.c.prototype.off=u.c.prototype.t;u.c.prototype.one=u.c.prototype.R;u.c.prototype.trigger=u.c.prototype.j;u.c.prototype.triggerReady=u.c.prototype.Sa;u.c.prototype.show=u.c.prototype.show;u.c.prototype.hide=u.c.prototype.w;u.c.prototype.width=u.c.prototype.width;u.c.prototype.height=u.c.prototype.height;u.c.prototype.dimensions=u.c.prototype.Mc;u.c.prototype.ready=u.c.prototype.O;u.c.prototype.fadeIn=u.c.prototype.$;u.c.prototype.fadeOut=u.c.prototype.sa;u.c.prototype.addClass=u.c.prototype.p;u.c.prototype.removeClass=u.c.prototype.u;$("videojs.Player",u.C);u.C.prototype.dispose=u.C.prototype.D;u.C.prototype.requestFullScreen=u.C.prototype.va;u.C.prototype.cancelFullScreen=u.C.prototype.pb;u.C.prototype.bufferedPercent=u.C.prototype.Ga;$("videojs.MediaLoader",u.Fc);$("videojs.TextTrackDisplay",u.$b);$("videojs.ControlBar",u.da);$("videojs.Button",u.o);$("videojs.PlayToggle",u.Xb);$("videojs.FullscreenToggle",u.Ca);$("videojs.BigPlayButton",u.Va);$("videojs.LoadingSpinner",u.Vb);$("videojs.CurrentTimeDisplay",u.Xa);$("videojs.DurationDisplay",u.Ya);$("videojs.TimeDivider",u.ac);$("videojs.RemainingTimeDisplay",u.fb);$("videojs.Slider",u.M);$("videojs.ProgressControl",u.eb);$("videojs.SeekBar",u.Yb);$("videojs.LoadProgressBar",u.ab);$("videojs.PlayProgressBar",u.Wb);$("videojs.SeekHandle",u.gb);$("videojs.VolumeControl",u.jb);$("videojs.VolumeBar",u.ib);$("videojs.VolumeLevel",u.bc);$("videojs.VolumeHandle",u.kb);$("videojs.MuteToggle",u.fa);$("videojs.PosterImage",u.cb);$("videojs.Menu",u.la);$("videojs.MenuItem",u.L);$("videojs.SubtitlesButton",u.Da);$("videojs.CaptionsButton",u.Ba);$("videojs.ChaptersButton",u.Sb);$("videojs.MediaTechController",u.q);u.q.prototype.features=u.q.prototype.k;u.q.prototype.k.volumeControl=u.q.prototype.k.U;u.q.prototype.k.fullscreenResize=u.q.prototype.k.jc;u.q.prototype.k.progressEvents=u.q.prototype.k.Mb;u.q.prototype.k.timeupdateEvents=u.q.prototype.k.Pb;$("videojs.Html5",u.m);u.m.Events=u.m.Za;u.m.isSupported=u.m.isSupported;u.m.canPlaySource=u.m.nb;u.m.prototype.setCurrentTime=u.m.prototype.fd;u.m.prototype.setVolume=u.m.prototype.ld;u.m.prototype.setMuted=u.m.prototype.jd;u.m.prototype.setPreload=u.m.prototype.kd;u.m.prototype.setAutoplay=u.m.prototype.ed;u.m.prototype.setLoop=u.m.prototype.hd;$("videojs.Flash",u.l);u.l.isSupported=u.l.isSupported;u.l.canPlaySource=u.l.nb;u.l.onReady=u.l.onReady;$("videojs.TextTrack",u.V);u.V.prototype.label=u.V.prototype.label;$("videojs.CaptionsTrack",u.Rb);$("videojs.SubtitlesTrack",u.Zb);$("videojs.ChaptersTrack",u.Tb);$("videojs.autoSetup",u.dc);$("videojs.plugin",u.cd);$("videojs.createTimeRange",u.tb);})();function getNodeAttr(node,nodeName,attrName){var nodes=node.getElementsByTagName(nodeName);if(nodes.length){return nodes[0].getAttribute(attrName);}else{return undefined;}}
function getNodeText(node,nodeName){var nodes=node.getElementsByTagName(nodeName);if(nodes.length){return getTextContent(nodes[0])}else{return undefined;}}
function getTextContent(node){return node.textContent||node.text||node.innerText||node.innerHTML}
function compareMediaFiles(a,b){var types={'video/mp4':3,'video/webm':3,'video/ogv':3,'video/flv':2,'video/x-flv':2};var atype=types[a.type]||0;var btype=types[b.type]||0;if(atype>btype)
return-1;if(atype<btype)
return 1;if(a.width>b.width)
return-1;if(a.width<b.width)
return 1;return 0;}
function Linear(node){this.id=node.parentNode.getAttribute('id');this.sequence=node.parentNode.getAttribute('sequence');this.adId=node.parentNode.getAttribute('adId');this.apiFramework=node.parentNode.getAttribute('apiFramework');this.duration=getNodeText(node,'Duration');if(node.getElementsByTagName('VideoClicks').length>0){var clicksNode=node.getElementsByTagName('VideoClicks')[0];this.clickThrough=getTextContent(clicksNode.getElementsByTagName('ClickThrough')[0]);this.clickTracking=[];var nodes=clicksNode.getElementsByTagName('ClickTracking');for(var i=0;i<nodes.length;i++){this.clickTracking.push(getTextContent(nodes[i]));}}
this.tracking={};if(node.getElementsByTagName('TrackingEvents').length>0){var trackingEventsNode=node.getElementsByTagName('TrackingEvents')[0];nodes=trackingEventsNode.getElementsByTagName('Tracking');for(var j=0;j<nodes.length;j++){var eventName=nodes[j].getAttribute('event');if(this.tracking[eventName]===undefined){this.tracking[eventName]=[];}
this.tracking[eventName].push(getTextContent(nodes[j]));}}
this.mediaFiles=[];var nodes=node.getElementsByTagName('MediaFile');for(var k=0;k<nodes.length;k++){var mediaFile={id:nodes[k].getAttribute('id'),delivery:nodes[k].getAttribute('delivery'),src:getTextContent(nodes[k]),type:nodes[k].getAttribute('type'),bitrate:nodes[k].getAttribute('bitrate'),width:parseInt(nodes[k].getAttribute('width'),10),height:parseInt(nodes[k].getAttribute('height'),10)};this.mediaFiles.push(mediaFile);}
this.mediaFiles.sort(compareMediaFiles);this.sources=function(width,types){types=types||['video/mp4','video/webm','video/ogv'];var typeSources={};for(var i=0;i<this.mediaFiles.length;i++){var thisType=this.mediaFiles[i].type;var thisSrc=this.mediaFiles[i].src;if(types.indexOf(thisType)>=0){if(typeSources[thisType]===undefined){typeSources[thisType]=thisSrc;}else{if(width&&this.mediaFiles[i].width<width){typeSources[thisType]=thisSrc;}}}}
var sourcesArray=[];for(var j=0;j<types.length;j++){if(typeSources[types[j]]!==undefined){sourcesArray.push({src:typeSources[types[j]],type:types[j]});}}
return sourcesArray;};}
function InLine(node){this.id=node.getAttribute('id');node=node.getElementsByTagName('InLine')[0];this.adSystem=getNodeText(node,'AdSystem');this.title=getNodeText(node,'AdTitle');this.creatives=[];nodes=node.getElementsByTagName('Creative');for(i=0;i<nodes.length;i++){var linearNodes=nodes[i].getElementsByTagName("Linear");for(var j=0;j<linearNodes.length;j++){this.creatives.push(new Linear(linearNodes[j]));}}
this.impressions=[];var nodes=node.getElementsByTagName('Impression');for(var i=0;i<nodes.length;i++){this.impressions.push(getTextContent(nodes[i]));}
this.description=getNodeText(node,'Description');this.advertiser=getNodeText(node,'Advertiser');this.survey=getNodeText(node,'Survey');this.error=getNodeText(node,'Error');this.pricing=getNodeText(node,'Pricing');this.linear=function(){for(var i=0;i<this.creatives.length;i++){if(this.creatives[i]instanceof Linear){return this.creatives[i];}}
return undefined;};this.sources=function(width,types){if(this.linear!==undefined){return this.linear.sources(width,types);}
return[];};}
function Wrapper(node){this.adSystem=getNodeText(node,'AdSystem');this.impressions=[];var impression=getNodeText(node,'Impression');if(impression!==undefined){this.impressions.push(impression);}
this.adTagURI=getNodeText(node,'VASTAdTagURI');this.error=getNodeText(node,'Error');}
function createCORSRequest(method,url){var xhr=new XMLHttpRequest();if("withCredentials"in xhr){xhr.open(method,url,true);xhr.onerror=function(){throw new Error("There was an error");};}else if(typeof XDomainRequest!="undefined"){xhr=new XDomainRequest();xhr.open(method,url);xhr.onprogress=function(){};xhr.ontimeout=function(){};xhr.onerror=function(){};}else{xhr=null;}
return xhr;}
var parseXml;if(typeof window.DOMParser!="undefined"){parseXml=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){parseXml=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{throw new Error("No XML parser found");}
function fetchVAST(url,cbk,wrapper,videoAdId,companionTargeting){var xhr=createCORSRequest('GET',url);if(!xhr){throw new Error('CORS not supported');}
if(cbk===undefined){throw new Error('callback required');}
xhr.onerror=function(){cbk&&cbk()}
xhr.onload=function(){if('status'in xhr&&xhr.status!==200){console.log("http error")
cbk&&cbk()
return}
var ads=[];var xml=parseXml(xhr.responseText);if(xml===null){console.log("No response from: "+url);cbk&&cbk();return;}
var nodes=xml.getElementsByTagName('Ad');for(var i=0;i<nodes.length;i++){videoAdId=videoAdId||nodes[i].getAttribute('id');companionTargeting=companionTargeting||nodes[i].getAttribute('target');if(nodes[i].getElementsByTagName('InLine').length>0){var inline=new InLine(nodes[0]);if(wrapper!==undefined){for(var j=0;j<wrapper.impressions.length;j++){inline.impressions.push(wrapper.impressions[j]);}}
inline.video_ad_id=videoAdId;inline.companion_targeting=companionTargeting;ads.push(inline);}
if(nodes[i].getElementsByTagName('Wrapper').length>0){var newWrapper=new Wrapper(nodes[0]);if(wrapper!==undefined){for(var k=0;k<wrapper.impressions.length;k++){newWrapper.impressions.push(wrapper.impressions[k]);}}
fetchVAST(newWrapper.adTagURI,cbk,newWrapper,videoAdId,companionTargeting);return;}}
cbk&&cbk(ads);};setTimeout(function(){xhr.send();},0);}
videojs.options.flash.swf='/static/videos/lib/videojs/video-js.swf';var STATIC_URL="/static/";(function(t,e){var c,n,o=t.srcDoc,r=!!("srcdoc"in e.createElement("iframe")),i={compliant:function(t,e){e&&t.setAttribute("srcdoc",e)},legacy:function(t,e){var c;t&&t.getAttribute&&(e?t.setAttribute("srcdoc",e):e=t.getAttribute("srcdoc"),e&&(c="javascript: window.frameElement.getAttribute('srcdoc');",t.setAttribute("src",c),t.contentWindow&&(t.contentWindow.location=c)))}},s=t.srcDoc={set:i.compliant,noConflict:function(){return t.srcDoc=o,s}};if(!r)for(s.set=i.legacy,n=e.getElementsByTagName("iframe"),c=n.length;c--;)s.set(n[c])})(this,this.document);window.o=window.o||{};(function setIsMobile(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))){window.isMobile=true}else{window.isMobile=false};})(navigator.userAgent||navigator.vendor||window.opera);(function(){o.enableEvents=enableEvents;o.enableEvents(o);function enableEvents(obj){obj.__listeners__=obj.__listeners__||{};obj.on=function on(evt,fn){var fns=obj.__listeners__[evt]||(obj.__listeners__[evt]=[]);fns.push(fn);};obj.off=function off(evt,fn){var fns=obj.__listeners__[evt]||[];var updated=[];for(var n=0,l=fns.length;n<l;n++){if(fns[n]!==fn)updated.push(fns[n]);}
obj.__listeners__[evt]=updated;};obj.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);var fns=obj.__listeners__[evt]||[];for(var n=0,l=fns.length;n<l;n++){try{fns[n].apply(null,args);}
catch(e){}}};}})();o.ready=function ready(fn){ready.fns=ready.fns||[];if(ready.isReady){return fn();}
if(fn===true){ready.isReady=true;fireFns();}
else{ready.fns.push(fn);}
function fireFns(){for(var n=0,l=ready.fns.length;n<l;n++){try{ready.fns[n]();}
catch(e){}}}};o.log=function(message,level){for(var i=0;i<arguments.length;i++){}}
try{keymaster('esc',function(){o.emit('keypress.esc')});}catch(e){Raven.captureException(e);};window.o=window.o||{};o.page=(function(){var self={};var initialPage={};setup();function setup(){self.path=window.location.pathname+window.location.search+window.location.hash;self.search=window.location.search;o.on('page.new',function(page){self.clearAutorefresh();if(self.isAutorefreshPage()){var time=/^\/$/.test(window.location.pathname)?(5*60*1000):(15*60*1000);self.autorefresh=setTimeout(function(){if(self.isAutorefreshPage()){window.location=window.location.pathname+"?ref=auto";}else{self.clearAutorefresh();}},time);}});self.clearAutorefresh=function(){clearTimeout(self.autorefresh);self.autorefresh=undefined;};self.isAutorefreshPage=function(){return/^\/($|article|section)/.test(window.location.pathname)&&/theonion.com$/.test(window.location.host);}
processInitialPage();self.active=initialPage;o.ready(function(){o.emit('page.initial-load',initialPage);o.emit('page.new',initialPage);});if(isPrimitiveBrowser())return;window.history.replaceState(initialPage,null,self.path);if(document.addEventListener){document.addEventListener('click',click,false);}else{document.attachEvent('onclick',click);}
if($.browser.webkit){window.addEventListener('popstate',function(event){this.removeEventListener('popstate',arguments.callee,false)
window.addEventListener('popstate',popstate)})}else{if(window.addEventListener){window.addEventListener('popstate',popstate,false);}else{window.attachEvent('onpopstate',popstate);}}}
function processInitialPage(){initialPage={path:self.path,title:document.title,metadata:metadata};var guts=$('#guts')
if(guts.length>0){guts=guts[0].innerHTML;initialPage['guts']=guts;}}
self.willPrefetch=function(e){if(e.shiftKey||e.ctrlKey||e.metaKey)return false;if(!isLeftClick(e))return false;o.emit('page.left-click',e);if(!e.target.getAttribute("data-prefetch"))return false;if(!e.link)return false;o.emit('page.before-click',e)
if(e.defaultPrevented)return false;if(!isSameOrigin(e.link.href))return false;var samePathNewHash=(self.path.split('#')[0]===e.link.pathname&&self.path.split('#')[1]!==e.link.hash);if(samePathNewHash)return false;var item=self.fetchPage(e.link.callpath);if(!item)return false;return true;}
function click(e){e=e||window.event
var link=findLink(e.target)
e.link=link
if(e.link)e.link.callpath=e.link.pathname+e.link.hash
var willPrefetch=self.willPrefetch(e);if(!willPrefetch)return;e.preventDefault();o.emit('page.unload',self.active);self.open(e.link.callpath);}
function popstate(e){if(e.state&&e.state!==null){self.display(e.state,false);}}
self.fetchPage=function fetchPage(path){return localStorage.getItem('afns-prefetch'+path);};self.open=function pageOpen(path,cbk){if(window.location.pathname.indexOf(path)>=0&&!(path.length==1)){return;}
o.prefetch.get(path,function(err,page){if(err){window.location=path;return;}
self.display(page);cbk&&cbk(err,page);});};self.display=function pageDisplay(page,addToHistory,render){if(render!==false){try{$('#guts').html(page.guts)}catch(e){Raven.captureException(e)
window.location=page.path}}
document.title=page.title||document.title;self.path=page.path;self.active=page;if(addToHistory!==false){window.history.pushState(page,null,self.path);}
o.emit('page.new',page);if(render!==false){$('html, body').scrollTop(0);}};function isPrimitiveBrowser(){return!(window.history&&history.pushState);}
function isLeftClick(e){var button=(e.which===null?e.button:e.which);return button===1;}
function isSameOrigin(url){var currentOrigin=(''
+window.location.protocol+'//'
+window.location.hostname
+(window.location.port?':'+window.location.port:''));return url.indexOf(currentOrigin)===0;}
function findLink(el){while(el&&el.nodeName!=='A'){el=el.parentNode;}
return(el&&el.nodeName==='A'?el:null);}
return self;})();window.o=window.o||{};o.prefetch=(function(){var self={};var cacheExpirationTime=30*60*1000;var cacheKeyPrefix='afns-prefetch';var keyIndex;setup();function setup(){o.on('page.new',function(){setTimeout(self.refresh,100);});}
self.refresh=function prefetchRefresh(rootElem){rootElem=rootElem||document;var urls=[];$('[data-prefetch]',rootElem).each(function(){var elem=$(this);if(elem.attr('href')){urls.push(elem.attr('href'));}
else{$('[href]',elem).each(function(){urls.push($(this).attr('href'));});}});var uniqued=[];var url;while(url=urls.shift()){if(uniqued.indexOf(url)===-1){uniqued.push(url);}}
self.fetch(uniqued);};self.fetch=function prefetchFetch(paths,cbk){if(!(paths instanceof Array)){paths=[paths];}
var now=new Date().getTime();var finalPaths=[];for(var n=0,l=paths.length;n<l;n++){var item=localStorage.getItem(cacheKeyPrefix+paths[n]);if(!item){finalPaths.push(paths[n]);if(finalPaths.length>20){break;}
continue;}
item=JSON.parse(item);var isExpired=(now-item.fetched)>cacheExpirationTime;if(isExpired){finalPaths.push(paths[n]);if(finalPaths.length>20){break;}}}
fetchItems(finalPaths);};self.get=function prefetchGet(path,cbk){var item=localStorage.getItem(cacheKeyPrefix+path);if(!item){return cbk&&cbk('not-found');}else{item=JSON.parse(item);}
cbk&&cbk(null,item.data);};function fetchItems(paths){var params=[];for(var n=0,l=paths.length;n<l;n++){params.push('url='+encodeURIComponent(paths[n]));}
params=params.sort();var url='/prefetch/prefetch.json?'+params.join('&');$.getJSON(url,processResponse);}
function compareCachedPages(a,b){if(a===undefined&&b===undefined){return 0;}
if(a===undefined){return-1;}
if(b===undefined){return 1;}
if(a.fetched<b.fetched)
return-1;if(a.fetched>b.fetched)
return 1;return 0;}
function buildCacheIndex(){var keys=Object.keys(localStorage);keyIndex=new Array(keys.length);keys.forEach(function(key){if(key.indexOf(cacheKeyPrefix)===0){var item=localStorage.getItem(key);item=JSON.parse(item);this.push({'fetched':item.fetched,'key':key});}},keyIndex);keyIndex=keyIndex.sort(compareCachedPages);}
function cleanCache(){var cache_limit=new Date().getTime()-(60*60*1000);if(keyIndex.length>0){var item=keyIndex.shift();while(item&&(item.fetched<cache_limit)){localStorage.removeItem(item.key);item=keyIndex.shift();}
if(item){keyIndex.unshift(item);}}else{throw"keyIndex is empty.";}}
function clearCache(count){count=count||1;if(keyIndex.length>0){for(var i=0;i<count;i++){var item=keyIndex.shift();localStorage.removeItem(item.key);}}else{throw"keyIndex is empty.";}}
function processResponse(data){buildCacheIndex();cleanCache();var clear=false;var done=false;var extraSpace="1234567890";var extraSpaceKey=cacheKeyPrefix+"-extraSpace";var iterations=9;for(var i=0;i<iterations;i++){extraSpace+=extraSpace.concat(extraSpace);}
while(!done){try{localStorage.setItem(extraSpaceKey+"-0",extraSpace);localStorage.setItem(extraSpaceKey+"-1",extraSpace);done=true;}catch(e){if(e.code===22||e.code==1014){clearCache(1);}else{done=true;}}}
extraSpace=undefined;var now=new Date().getTime();for(var path in data){var item={fetched:new Date().getTime(),data:data[path]};item.data.path=path;done=false;while(!done){try{localStorage.setItem(cacheKeyPrefix+path,JSON.stringify(item));done=true;}catch(e){if(e.code===22||e.code==1014){clearCache(1);}else{done=true;}}}}
localStorage.removeItem(extraSpaceKey+"-0");localStorage.removeItem(extraSpaceKey+"-1");}
return self;})();window.o=window.o||{};o.screen=(function(){var self={};var isPrimitiveBrowser;var viewports={'mobile':[0,568],'tablet-portrait':[569,849],'desktop':[850,Infinity]};setup();function setup(){$(window).bind('resize',checkWindowDimensions);$(window).bind('orientationchange',checkWindowDimensions);isPrimitiveBrowser=$.browser.msie&&$.browser.version<9
checkWindowDimensions();}
function checkWindowDimensions(){var newViewport;var width=window.innerWidth
if(isPrimitiveBrowser){newViewport='desktop';}
else{for(var name in viewports){if(width>=viewports[name][0]&&width<=viewports[name][1]){newViewport=name;}}}
if(newViewport===self.viewport)return;self.viewport=newViewport;o.emit('screen.viewport-change',self.viewport);}
return self;})();window.o=window.o||{};o.lazyload=(function(){var self={};var cache=[];var throttleTimer=new Date().getTime();var tinyGif='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';var placeholders={"1x1":'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==',"16x9":"data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7","4x3  ":"data:image/gif;base64,R0lGODlhBAADAIAAAP///wAAACH5BAEAAAAALAAAAAAEAAMAAAIDhI9WADs=","3x4":"data:image/gif;base64,R0lGODlhAwAEAIAAAP///wAAACH5BAEAAAAALAAAAAADAAQAAAIDhI9WADs=","2x1":"data:image/gif;base64,R0lGODlhAgABAIAAAP///wAAACH5BAEAAAAALAAAAAACAAEAAAICBAoAOw==","original":"data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7"};setup();function setup(){o.on('page.new',function(pageObj){var imageNodes=$('img[data-src]');for(var i=0;i<imageNodes.length;i++){var imageNode=imageNodes[i];imageNode.src=imageNode.src||lazyLoader.tinyGif;cache.push(imageNode);loadVisibleImages();}});$(window).on('scroll',throttledLoad);$(window).on('resize',throttledLoad);}
function throttledLoad(){var now=Date.now();if((now-throttleTimer)>=200){throttleTimer=now;loadVisibleImages();}}
function removeObservers(){}
function loadVisibleImages(){var scrollY=window.pageYOffset||document.documentElement.scrollTop;var pageHeight=window.innerHeight||document.documentElement.clientHeight;var range={min:scrollY-600,max:scrollY+pageHeight+600};var i=0;while(i<cache.length){var image=cache[i];var imagePosition=$(image).offset().top;var imageHeight=image.height||0;if((imagePosition>=range.min-imageHeight)&&(imagePosition<=range.max)){var retinaSrc=$(image).data('retinaSrc');image.onload=function(){this.className='lazy-loaded';};if(o.screen.viewport=="mobile"){image.src=$(image).data('src');}
else{if(retinaSrc&&(window.devicePixelRatio>1)){image.src=retinaSrc;}
else{image.src=$(image).data('src');}}
image.removeAttribute('data-src');image.removeAttribute('data-retina-src');cache.splice(i,1);continue;}
i++;}}})();;(function($){$.flexslider=function(el,options){var slider=$(el);slider.vars=$.extend({},$.flexslider.defaults,options);var namespace=slider.vars.namespace,touch=(("ontouchstart"in window)||(window.navigator.msPointerEnabled)||window.DocumentTouch&&document instanceof DocumentTouch)&&slider.vars.touch,eventType="click touchend MSPointerUp",watchedEvent="",watchedEventClearTimer,vertical=slider.vars.direction==="vertical",reverse=slider.vars.reverse,carousel=(slider.vars.itemWidth>0),fade=slider.vars.animation==="fade",asNav=slider.vars.asNavFor!=="",methods={};focused=true;$.data(el,"flexslider",slider);methods={init:function(){slider.animating=false;slider.currentSlide=slider.vars.startAt;slider.animatingTo=slider.currentSlide;slider.atEnd=(slider.currentSlide===0||slider.currentSlide===slider.last);slider.containerSelector=slider.vars.selector.substr(0,slider.vars.selector.search(' '));slider.slides=$(slider.vars.selector,slider);slider.container=$(slider.containerSelector,slider);slider.count=slider.slides.length;slider.syncExists=$(slider.vars.sync).length>0;if(slider.vars.animation==="slide")slider.vars.animation="swing";slider.prop=(vertical)?"top":"marginLeft";slider.args={};slider.manualPause=false;slider.stopped=false;slider.transitions=!slider.vars.video&&!fade&&slider.vars.useCSS&&(function(){var obj=document.createElement('div'),props=['perspectiveProperty','WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in props){if(obj.style[props[i]]!==undefined){slider.pfx=props[i].replace('Perspective','').toLowerCase();slider.prop="-"+slider.pfx+"-transform";return true;}}
return false;}());if(slider.vars.controlsContainer!=="")slider.controlsContainer=$(slider.vars.controlsContainer).length>0&&$(slider.vars.controlsContainer);if(slider.vars.manualControls!=="")slider.manualControls=$(slider.vars.manualControls).length>0&&$(slider.vars.manualControls);if(slider.vars.randomize){slider.slides.sort(function(){return(Math.round(Math.random())-0.5);});slider.container.empty().append(slider.slides);}
slider.doMath();if(asNav)methods.asNav.setup();slider.setup("init");if(slider.vars.controlNav)methods.controlNav.setup();if(slider.vars.directionNav)methods.directionNav.setup();if(slider.vars.keyboard&&($(slider.containerSelector).length===1||slider.vars.multipleKeyboard)){$(document).bind('keyup',function(event){var keycode=event.keyCode;if(!slider.animating&&(keycode===39||keycode===37)){var target=(keycode===39)?slider.getTarget('next'):(keycode===37)?slider.getTarget('prev'):false;slider.flexAnimate(target,slider.vars.pauseOnAction);}});}
if(slider.vars.mousewheel){slider.bind('mousewheel',function(event,delta,deltaX,deltaY){event.preventDefault();var target=(delta<0)?slider.getTarget('next'):slider.getTarget('prev');slider.flexAnimate(target,slider.vars.pauseOnAction);});}
if(slider.vars.pausePlay)methods.pausePlay.setup();if(slider.vars.slideshow){if(slider.vars.pauseOnHover){slider.hover(function(){if(!slider.manualPlay&&!slider.manualPause)slider.pause();},function(){if(!slider.manualPause&&!slider.manualPlay&&!slider.stopped)slider.play();});}
(slider.vars.initDelay>0)?setTimeout(slider.play,slider.vars.initDelay):slider.play();}
if(touch&&slider.vars.touch)methods.touch();if(!fade||(fade&&slider.vars.smoothHeight))$(window).bind("resize orientationchange focus",methods.resize);setTimeout(function(){slider.vars.start(slider);},200);},asNav:{setup:function(){slider.asNav=true;slider.animatingTo=Math.floor(slider.currentSlide/slider.move);slider.currentItem=slider.currentSlide;slider.slides.removeClass(namespace+"active-slide").eq(slider.currentItem).addClass(namespace+"active-slide");slider.slides.click(function(e){e.preventDefault();var $slide=$(this),target=$slide.index();var posFromLeft=$slide.offset().left-$(slider).scrollLeft();if(posFromLeft<=0&&$slide.hasClass(namespace+'active-slide')){slider.flexAnimate(slider.getTarget("prev"),true);}else if(!$(slider.vars.asNavFor).data('flexslider').animating&&!$slide.hasClass(namespace+"active-slide")){slider.direction=(slider.currentItem<target)?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction,false,true,true);}});}},controlNav:{setup:function(){if(!slider.manualControls){methods.controlNav.setupPaging();}else{methods.controlNav.setupManual();}},setupPaging:function(){var type=(slider.vars.controlNav==="thumbnails")?'control-thumbs':'control-paging',j=1,item,slide;slider.controlNavScaffold=$('<ol class="'+namespace+'control-nav '+namespace+type+'"></ol>');if(slider.pagingCount>1){for(var i=0;i<slider.pagingCount;i++){slide=slider.slides.eq(i);item=(slider.vars.controlNav==="thumbnails")?'<img src="'+slide.attr('data-thumb')+'"/>':'<a>'+j+'</a>';if('thumbnails'===slider.vars.controlNav&&true===slider.vars.thumbCaptions){var captn=slide.attr('data-thumbcaption');if(''!=captn&&undefined!=captn)item+='<span class="'+namespace+'caption">'+captn+'</span>';}
slider.controlNavScaffold.append('<li>'+item+'</li>');j++;}}
(slider.controlsContainer)?$(slider.controlsContainer).append(slider.controlNavScaffold):slider.append(slider.controlNavScaffold);methods.controlNav.set();methods.controlNav.active();slider.controlNavScaffold.delegate('a, img',eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+'active')){slider.direction=(target>slider.currentSlide)?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction);}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},setupManual:function(){slider.controlNav=slider.manualControls;methods.controlNav.active();slider.controlNav.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+'active')){(target>slider.currentSlide)?slider.direction="next":slider.direction="prev";slider.flexAnimate(target,slider.vars.pauseOnAction);}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},set:function(){var selector=(slider.vars.controlNav==="thumbnails")?'img':'a';slider.controlNav=$('.'+namespace+'control-nav li '+selector,(slider.controlsContainer)?slider.controlsContainer:slider);},active:function(){slider.controlNav.removeClass(namespace+"active").eq(slider.animatingTo).addClass(namespace+"active");},update:function(action,pos){if(slider.pagingCount>1&&action==="add"){slider.controlNavScaffold.append($('<li><a>'+slider.count+'</a></li>'));}else if(slider.pagingCount===1){slider.controlNavScaffold.find('li').remove();}else{slider.controlNav.eq(pos).closest('li').remove();}
methods.controlNav.set();(slider.pagingCount>1&&slider.pagingCount!==slider.controlNav.length)?slider.update(pos,action):methods.controlNav.active();}},directionNav:{setup:function(){var directionNavScaffold=$('<ul class="'+namespace+'direction-nav"><li><a class="'+namespace+'prev" href="#">'+slider.vars.prevText+'</a></li><li><a class="'+namespace+'next" href="#">'+slider.vars.nextText+'</a></li></ul>');if(slider.controlsContainer){$(slider.controlsContainer).append(directionNavScaffold);slider.directionNav=$('.'+namespace+'direction-nav li a',slider.controlsContainer);}else{slider.append(directionNavScaffold);slider.directionNav=$('.'+namespace+'direction-nav li a',slider);}
methods.directionNav.update();slider.directionNav.bind(eventType,function(event){event.preventDefault();var target;if(watchedEvent===""||watchedEvent===event.type){target=($(this).hasClass(namespace+'next'))?slider.getTarget('next'):slider.getTarget('prev');slider.flexAnimate(target,slider.vars.pauseOnAction);}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},update:function(){var disabledClass=namespace+'disabled';if(slider.pagingCount===1){slider.directionNav.addClass(disabledClass).attr('tabindex','-1');}else if(!slider.vars.animationLoop){if(slider.animatingTo===0){slider.directionNav.removeClass(disabledClass).filter('.'+namespace+"prev").addClass(disabledClass).attr('tabindex','-1');}else if(slider.animatingTo===slider.last){slider.directionNav.removeClass(disabledClass).filter('.'+namespace+"next").addClass(disabledClass).attr('tabindex','-1');}else{slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');}}else{slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');}}},pausePlay:{setup:function(){var pausePlayScaffold=$('<div class="'+namespace+'pauseplay"><a></a></div>');if(slider.controlsContainer){slider.controlsContainer.append(pausePlayScaffold);slider.pausePlay=$('.'+namespace+'pauseplay a',slider.controlsContainer);}else{slider.append(pausePlayScaffold);slider.pausePlay=$('.'+namespace+'pauseplay a',slider);}
methods.pausePlay.update((slider.vars.slideshow)?namespace+'pause':namespace+'play');slider.pausePlay.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){if($(this).hasClass(namespace+'pause')){slider.manualPause=true;slider.manualPlay=false;slider.pause();}else{slider.manualPause=false;slider.manualPlay=true;slider.play();}}
if(watchedEvent===""){watchedEvent=event.type;}
methods.setToClearWatchedEvent();});},update:function(state){(state==="play")?slider.pausePlay.removeClass(namespace+'pause').addClass(namespace+'play').text(slider.vars.playText):slider.pausePlay.removeClass(namespace+'play').addClass(namespace+'pause').text(slider.vars.pauseText);}},touch:function(){var startX,startY,offset,cwidth,dx,startT,scrolling=false;var localX=0;var localY=0;el.addEventListener('touchstart',onTouchStart,false);if(window.navigator.msPointerEnabled){el.addEventListener('MSPointerDown',onTouchStart,false);}
function onTouchStart(e){if(slider.animating){e.preventDefault();}else if((window.navigator.msPointerEnabled)||e.touches.length===1){slider.pause();cwidth=(vertical)?slider.h:slider.w;startT=Number(new Date());localX=e.touches[0].pageX;localY=e.touches[0].pageY;if(window.navigator.msPointerEnabled){localX=e.pageX;localY=e.pageY;}
offset=(carousel&&reverse&&slider.animatingTo===slider.last)?0:(carousel&&reverse)?slider.limit-(((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo):(carousel&&slider.currentSlide===slider.last)?slider.limit:(carousel)?((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.currentSlide:(reverse)?(slider.last-slider.currentSlide+slider.cloneOffset)*cwidth:(slider.currentSlide+slider.cloneOffset)*cwidth;startX=(vertical)?localY:localX;startY=(vertical)?localX:localY;el.addEventListener('touchmove',onTouchMove,false);el.addEventListener('touchend',onTouchEnd,false);if(window.navigator.msPointerEnabled){el.addEventListener('MSPointerMove',onTouchMove,false);el.addEventListener('MSPointerOut',onTouchEnd,false);}}}
function onTouchMove(e){if(window.navigator.msPointerEnabled){localX=e.pageX;localY=e.pageY;}else{localX=e.touches[0].pageX;localY=e.touches[0].pageY;}
dx=(vertical)?startX-localY:startX-localX;scrolling=(vertical)?(Math.abs(dx)<Math.abs(localX-startY)):(Math.abs(dx)<Math.abs(localY-startY));if(window.navigator.msPointerEnabled){var fxms=100;}else{var fxms=500;}
if(!scrolling||Number(new Date())-startT>fxms){e.preventDefault();if(!fade&&slider.transitions){if(!slider.vars.animationLoop){dx=dx/((slider.currentSlide===0&&dx<0||slider.currentSlide===slider.last&&dx>0)?(Math.abs(dx)/cwidth+2):1);}
slider.setProps(offset+dx,"setTouch");}}}
function onTouchEnd(e){el.removeEventListener('touchmove',onTouchMove,false);if(window.navigator.msPointerEnabled){el.removeEventListener('MSPointerMove',onTouchMove,false);}
if(slider.animatingTo===slider.currentSlide&&!scrolling&&!(dx===null)){var updateDx=(reverse)?-dx:dx,target=(updateDx>0)?slider.getTarget('next'):slider.getTarget('prev');if(slider.canAdvance(target)&&(Number(new Date())-startT<550&&Math.abs(updateDx)>50||Math.abs(updateDx)>cwidth/2)){slider.flexAnimate(target,slider.vars.pauseOnAction);}else{if(!fade)slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,true);}}
el.removeEventListener('touchend',onTouchEnd,false);if(window.navigator.msPointerEnabled){el.removeEventListener('MSPointerOut',onTouchEnd,false);}
startX=null;startY=null;dx=null;offset=null;}},resize:function(){if(!slider.animating&&slider.is(':visible')){if(!carousel)slider.doMath();if(fade){methods.smoothHeight();}else if(carousel){slider.slides.width(slider.computedW);slider.update(slider.pagingCount);slider.setProps();}
else if(vertical){slider.viewport.height(slider.h);slider.setProps(slider.h,"setTotal");}else{if(slider.vars.smoothHeight)methods.smoothHeight();slider.newSlides.width(slider.computedW);slider.setProps(slider.computedW,"setTotal");}}},smoothHeight:function(dur){if(!vertical||fade){var $obj=(fade)?slider:slider.viewport;(dur)?$obj.animate({"height":slider.slides.eq(slider.animatingTo).height()},dur):$obj.height(slider.slides.eq(slider.animatingTo).height());}},sync:function(action){var $obj=$(slider.vars.sync).data("flexslider"),target=slider.animatingTo;switch(action){case"animate":$obj.flexAnimate(target,slider.vars.pauseOnAction,false,true);break;case"play":if(!$obj.playing&&!$obj.asNav){$obj.play();}break;case"pause":$obj.pause();break;}},setToClearWatchedEvent:function(){clearTimeout(watchedEventClearTimer);watchedEventClearTimer=setTimeout(function(){watchedEvent="";},3000);}}
slider.flexAnimate=function(target,pause,override,withSync,fromNav){if(target!==slider.currentSlide){slider.direction=(target>slider.currentSlide)?"next":"prev";}
if(asNav&&slider.pagingCount===1)slider.direction=(slider.currentItem<target)?"next":"prev";if(!slider.animating&&(slider.canAdvance(target,fromNav)||override)&&slider.is(":visible")){if(asNav&&withSync){var master=$(slider.vars.asNavFor).data('flexslider');slider.atEnd=target===0||target===slider.count-1;master.flexAnimate(target,true,false,true,fromNav);slider.direction=(slider.currentItem<target)?"next":"prev";master.direction=slider.direction;if(Math.ceil((target+1)/slider.visible)-1!==slider.currentSlide&&target!==0){slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");target=Math.floor(target/slider.visible);}else{slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");return false;}}
slider.animating=true;slider.animatingTo=target;slider.vars.before(slider);if(pause)slider.pause();if(slider.syncExists&&!fromNav)methods.sync("animate");if(slider.vars.controlNav)methods.controlNav.active();if(!carousel)slider.slides.removeClass(namespace+'active-slide').eq(target).addClass(namespace+'active-slide');slider.atEnd=target===0||target===slider.last;if(slider.vars.directionNav)methods.directionNav.update();if(target===slider.last){slider.vars.end(slider);if(!slider.vars.animationLoop)slider.pause();}
if(!fade){var dimension=(vertical)?slider.slides.filter(':first').height():slider.computedW,margin,slideString,calcNext;if(carousel){margin=slider.vars.itemMargin;calcNext=((slider.itemW+margin)*slider.move)*slider.animatingTo;slideString=(calcNext>slider.limit&&slider.visible!==1)?slider.limit:calcNext;}else if(slider.currentSlide===0&&target===slider.count-1&&slider.vars.animationLoop&&slider.direction!=="next"){slideString=(reverse)?(slider.count+slider.cloneOffset)*dimension:0;}else if(slider.currentSlide===slider.last&&target===0&&slider.vars.animationLoop&&slider.direction!=="prev"){slideString=(reverse)?0:(slider.count+1)*dimension;}else{slideString=(reverse)?((slider.count-1)-target+slider.cloneOffset)*dimension:(target+slider.cloneOffset)*dimension;}
slider.setProps(slideString,"",slider.vars.animationSpeed);if(slider.transitions){if(!slider.vars.animationLoop||!slider.atEnd){slider.animating=false;slider.currentSlide=slider.animatingTo;}
slider.container.unbind("webkitTransitionEnd transitionend");slider.container.bind("webkitTransitionEnd transitionend",function(){slider.wrapup(dimension);});}else{slider.container.animate(slider.args,slider.vars.animationSpeed,slider.vars.easing,function(){slider.wrapup(dimension);});}}else{if(!touch){slider.slides.eq(slider.currentSlide).css({"zIndex":1}).animate({"opacity":0},slider.vars.animationSpeed,slider.vars.easing);slider.slides.eq(target).css({"zIndex":2}).animate({"opacity":1},slider.vars.animationSpeed,slider.vars.easing,slider.wrapup);}else{slider.slides.eq(slider.currentSlide).css({"opacity":0,"zIndex":1});slider.slides.eq(target).css({"opacity":1,"zIndex":2});slider.wrapup(dimension);}}
if(slider.vars.smoothHeight)methods.smoothHeight(slider.vars.animationSpeed);}}
slider.wrapup=function(dimension){if(!fade&&!carousel){if(slider.currentSlide===0&&slider.animatingTo===slider.last&&slider.vars.animationLoop){slider.setProps(dimension,"jumpEnd");}else if(slider.currentSlide===slider.last&&slider.animatingTo===0&&slider.vars.animationLoop){slider.setProps(dimension,"jumpStart");}}
slider.animating=false;slider.currentSlide=slider.animatingTo;slider.vars.after(slider);}
slider.animateSlides=function(){if(!slider.animating&&focused)slider.flexAnimate(slider.getTarget("next"));}
slider.pause=function(){clearInterval(slider.animatedSlides);slider.animatedSlides=null;slider.playing=false;if(slider.vars.pausePlay)methods.pausePlay.update("play");if(slider.syncExists)methods.sync("pause");}
slider.play=function(){slider.animatedSlides=slider.animatedSlides||setInterval(slider.animateSlides,slider.vars.slideshowSpeed);slider.playing=true;if(slider.vars.pausePlay)methods.pausePlay.update("pause");if(slider.syncExists)methods.sync("play");}
slider.stop=function(){slider.pause();slider.stopped=true;}
slider.canAdvance=function(target,fromNav){var last=(asNav)?slider.pagingCount-1:slider.last;return(fromNav)?true:(asNav&&slider.currentItem===slider.count-1&&target===0&&slider.direction==="prev")?true:(asNav&&slider.currentItem===0&&target===slider.pagingCount-1&&slider.direction!=="next")?false:(target===slider.currentSlide&&!asNav)?false:(slider.vars.animationLoop)?true:(slider.atEnd&&slider.currentSlide===0&&target===last&&slider.direction!=="next")?false:(slider.atEnd&&slider.currentSlide===last&&target===0&&slider.direction==="next")?false:true;}
slider.getTarget=function(dir){slider.direction=dir;if(dir==="next"){return(slider.currentSlide===slider.last)?0:slider.currentSlide+1;}else{return(slider.currentSlide===0)?slider.last:slider.currentSlide-1;}}
slider.setProps=function(pos,special,dur){var target=(function(){var posCheck=(pos)?pos:((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo,posCalc=(function(){if(carousel){return(special==="setTouch")?pos:(reverse&&slider.animatingTo===slider.last)?0:(reverse)?slider.limit-(((slider.itemW+slider.vars.itemMargin)*slider.move)*slider.animatingTo):(slider.animatingTo===slider.last)?slider.limit:posCheck;}else{switch(special){case"setTotal":return(reverse)?((slider.count-1)-slider.currentSlide+slider.cloneOffset)*pos:(slider.currentSlide+slider.cloneOffset)*pos;case"setTouch":return(reverse)?pos:pos;case"jumpEnd":return(reverse)?pos:slider.count*pos;case"jumpStart":return(reverse)?slider.count*pos:pos;default:return pos;}}}());return(posCalc*-1)+"px";}());if(slider.transitions){target=(vertical)?"translate3d(0,"+target+",0)":"translate3d("+target+",0,0)";dur=(dur!==undefined)?(dur/1000)+"s":"0s";slider.container.css("-"+slider.pfx+"-transition-duration",dur);}
slider.args[slider.prop]=target;if(slider.transitions||dur===undefined)slider.container.css(slider.args);}
slider.setup=function(type){if(!fade){var sliderOffset,arr;if(type==="init"){slider.viewport=$('<div class="'+namespace+'viewport"></div>').css({"overflow":"hidden","position":"relative"}).appendTo(slider).append(slider.container);slider.cloneCount=0;slider.cloneOffset=0;if(reverse){arr=$.makeArray(slider.slides).reverse();slider.slides=$(arr);slider.container.empty().append(slider.slides);}}
if(slider.vars.animationLoop&&!carousel){slider.cloneCount=2;slider.cloneOffset=1;if(type!=="init")slider.container.find('.clone').remove();slider.container.append(slider.slides.first().clone().addClass('clone').attr('aria-hidden','true')).prepend(slider.slides.last().clone().addClass('clone').attr('aria-hidden','true'));}
slider.newSlides=$(slider.vars.selector,slider);sliderOffset=(reverse)?slider.count-1-slider.currentSlide+slider.cloneOffset:slider.currentSlide+slider.cloneOffset;if(vertical&&!carousel){slider.container.height((slider.count+slider.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){slider.newSlides.css({"display":"block"});slider.doMath();slider.viewport.height(slider.h);slider.setProps(sliderOffset*slider.h,"init");},(type==="init")?100:0);}else{slider.container.width((slider.count+slider.cloneCount)*200+"%");slider.setProps(sliderOffset*slider.computedW,"init");setTimeout(function(){slider.doMath();slider.newSlides.css({"width":slider.computedW,"float":"left","display":"block"});if(slider.vars.smoothHeight)methods.smoothHeight();},(type==="init")?100:0);}}else{slider.slides.css({"width":"100%","float":"left","marginRight":"-100%","position":"relative"});if(type==="init"){if(!touch){slider.slides.css({"opacity":0,"display":"block","zIndex":1}).eq(slider.currentSlide).css({"zIndex":2}).animate({"opacity":1},slider.vars.animationSpeed,slider.vars.easing);}else{slider.slides.css({"opacity":0,"display":"block","webkitTransition":"opacity "+slider.vars.animationSpeed/1000+"s ease","zIndex":1}).eq(slider.currentSlide).css({"opacity":1,"zIndex":2});}}
if(slider.vars.smoothHeight)methods.smoothHeight();}
if(!carousel)slider.slides.removeClass(namespace+"active-slide").eq(slider.currentSlide).addClass(namespace+"active-slide");}
slider.doMath=function(){var slide=slider.slides.first(),slideMargin=slider.vars.itemMargin,minItems=slider.vars.minItems,maxItems=slider.vars.maxItems;slider.w=slider.width();slider.h=slide.height();slider.boxPadding=slide.outerWidth()-slide.width();if(carousel){slider.itemT=slider.vars.itemWidth+slideMargin;slider.minW=(minItems)?minItems*slider.itemT:slider.w;slider.maxW=(maxItems)?(maxItems*slider.itemT)-slideMargin:slider.w;slider.itemW=(slider.minW>slider.w)?(slider.w-(slideMargin*(minItems-1)))/minItems:(slider.maxW<slider.w)?(slider.w-(slideMargin*(maxItems-1)))/maxItems:(slider.vars.itemWidth>slider.w)?slider.w:slider.vars.itemWidth;slider.visible=Math.floor(slider.w/(slider.itemW));slider.move=(slider.vars.move>0&&slider.vars.move<slider.visible)?slider.vars.move:slider.visible;slider.pagingCount=Math.ceil(((slider.count-slider.visible)/slider.move)+1);slider.last=slider.pagingCount-1;slider.limit=(slider.pagingCount===1)?0:(slider.vars.itemWidth>slider.w)?(slider.itemW*(slider.count-1))+(slideMargin*(slider.count-1)):((slider.itemW+slideMargin)*slider.count)-slider.w-slideMargin;}else{slider.itemW=slider.w;slider.pagingCount=slider.count;slider.last=slider.count-1;}
slider.computedW=slider.itemW-slider.boxPadding;}
slider.update=function(pos,action){slider.doMath();if(!carousel){if(pos<slider.currentSlide){slider.currentSlide+=1;}else if(pos<=slider.currentSlide&&pos!==0){slider.currentSlide-=1;}
slider.animatingTo=slider.currentSlide;}
if(slider.vars.controlNav&&!slider.manualControls){if((action==="add"&&!carousel)||slider.pagingCount>slider.controlNav.length){methods.controlNav.update("add");}else if((action==="remove"&&!carousel)||slider.pagingCount<slider.controlNav.length){if(carousel&&slider.currentSlide>slider.last){slider.currentSlide-=1;slider.animatingTo-=1;}
methods.controlNav.update("remove",slider.last);}}
if(slider.vars.directionNav)methods.directionNav.update();}
slider.addSlide=function(obj,pos){var $obj=$(obj);slider.count+=1;slider.last=slider.count-1;if(vertical&&reverse){(pos!==undefined)?slider.slides.eq(slider.count-pos).after($obj):slider.container.prepend($obj);}else{(pos!==undefined)?slider.slides.eq(pos).before($obj):slider.container.append($obj);}
slider.update(pos,"add");slider.slides=$(slider.vars.selector+':not(.clone)',slider);slider.setup();slider.vars.added(slider);}
slider.removeSlide=function(obj){var pos=(isNaN(obj))?slider.slides.index($(obj)):obj;slider.count-=1;slider.last=slider.count-1;if(isNaN(obj)){$(obj,slider.slides).remove();}else{(vertical&&reverse)?slider.slides.eq(slider.last).remove():slider.slides.eq(obj).remove();}
slider.doMath();slider.update(pos,"remove");slider.slides=$(slider.vars.selector+':not(.clone)',slider);slider.setup();slider.vars.removed(slider);}
methods.init();}
$(window).blur(function(e){focused=false;}).focus(function(e){focused=true;});$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:false,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}}
$.fn.flexslider=function(options){if(options===undefined)options={};if(typeof options==="object"){return this.each(function(){var $this=$(this),selector=(options.selector)?options.selector:".slides > li",$slides=$this.find(selector);if($slides.length===1){$slides.fadeIn(400);if(options.start)options.start($this);}else if($this.data('flexslider')===undefined){new $.flexslider(this,options);}});}else{var $slider=$(this).data('flexslider');switch(options){case"play":$slider.play();break;case"pause":$slider.pause();break;case"stop":$slider.stop();break;case"next":$slider.flexAnimate($slider.getTarget("next"),true);break;case"prev":case"previous":$slider.flexAnimate($slider.getTarget("prev"),true);break;default:if(typeof options==="number")$slider.flexAnimate(options,true);}}}})(jQuery);function getGridSize(){return(window.innerWidth<650)?1:(window.innerWidth<1000)?3:4;}
function setupCarousel(){var $window=$(window),flexslider;$('.carousel').each(function(){var $this=$(this);var $carouselNav=$this.find('nav');var $carousel=$this.find('.flexslider');$this.flexslider({animation:'slide',controlNav:false,directionNav:false,itemMargin:10,itemWidth:190,minItems:getGridSize(),maxItems:getGridSize(),slideshow:false,startAt:0,touch:true,start:function(flexslider){$window.resize(function(){var gridSize=getGridSize();flexslider.vars.minItems=gridSize;flexslider.vars.maxItems=gridSize;});$carouselNav.filter('.next').click(function(){$this.flexslider('next');});$carouselNav.filter('.prev').click(function(){$this.flexslider('prev');});}});});}
o.on('page.new',function(){setupCarousel()});function setupSlideshow(){slidesClicked=0;slideContainer=$('.slider');sliderElement=$(slideContainer).find('.flexslider')
slideNav=$(slideContainer).find('nav');next=slideNav.filter('.next');prev=slideNav.filter('.prev');index=0,hash=window.location.hash;if(hash){index=/\d+/.exec(hash)[0];index=(parseInt(index)||1)-1;}
sliderElement.flexslider({animation:"slide",animationSpeed:250,slideshow:false,directionNav:false,controlNav:false,startAt:index,start:function(slider){flexslider=slider;updateDirectionControls();},after:function(slider){updateDirectionControls();window.location.hash=slider.currentSlide+1;o.reporting.trackPageview(o.page.active);(++slidesClicked%3===0)&&o.ads.refresh(o);}});function updateDirectionControls(){slider=sliderElement.data('flexslider');if(slider.animationLoop===false||!slider.animationLoop){if(slider.currentSlide===0){prev.addClass('disabled');next.removeClass('disabled');}else if(slider.currentSlide===slider.last){next.addClass('disabled');prev.removeClass('disabled');}else{prev.removeClass('disabled');next.removeClass('disabled');}}
navClickInit();}
function navClickInit(){slideNav.unbind('click');$(next).not('.disabled').click(function(event){event.preventDefault();sliderElement.flexslider('next');});$(prev).not('.disabled').click(function(event){event.preventDefault();sliderElement.flexslider('prev');});}
startOver=sliderElement.find('.restart');$(startOver).click(function(event){event.preventDefault();sliderElement.flexslider(0);})}
o.on('page.new',function(){setupSlideshow();});$(setup);function setup(){safariClass();collapsableNav();faketemp();}
function safariClass(){if(navigator.userAgent.indexOf('Safari')!=-1&&navigator.userAgent.indexOf('Chrome')==-1){$('html').addClass('safari');}}
function enlargeImage(){var theImage=$('.article-body .image');function makeWrapper(){if(!$('.bound').length){theImage.addClass('bound');theImage.click(function(){var image=$(this).attr('rel');var caption=$(this).find('.caption').text();var html='<div><img src="'+image+' " /><p class="caption">'+caption+'</p></div>';var modal=Modal('image_holder',html);$('.modal button.close').html('<i class="icon-remove"></i>');var closeModal=function(){$(".modal button.close").click();o.off('keypress.esc',closeModal)}
o.on('keypress.esc',closeModal)});}}
function unbindTheThumb(){theImage.unbind('click').removeClass('bound');}
function responsiveEnlarge(){var winWidth=$(window).width();if((winWidth>480)){makeWrapper();}
else{unbindTheThumb();}}
$(document).ready(function(){responsiveEnlarge();$(window).resize(function(){responsiveEnlarge();});});}
function collapsableNav(){var links=$('.main-nav .links li:not(\'.more\')');var moreButton=$('.main-nav li.more');var moreLinks=$('.main-nav li.more ul.more-links');adjust();$(window).resize(adjust);moreButton.click(function(){moreLinks.toggle();});function adjust(){var navWidth=$('.main-nav .navigation').width();var widths=[];var sum=0;links.each(function(){var width=widthOf(this);widths.push(width);sum+=width;});if(sum<=navWidth){links.show();moreButton.hide();moreLinks.hide();}
else{hideSome();}
function hideSome(){var padding=10;var sum=padding+widthOf(moreButton);var willFit=[];for(var n=0,l=widths.length;n<l;n++){if(sum+widths[n]>navWidth){makeItSo();break;}
willFit.push(widths[n]);sum+=widths[n];if(n===l-1)makeItSo();}
function makeItSo(){$(links.get().slice(0,willFit.length)).show();var wontFit=$(links.get().slice(willFit.length)).hide();moreLinks.empty().append(wontFit.clone().show());moreButton.show();}}
function widthOf(elem){return $(elem).width()+parseInt($(elem).css('margin-right'),10)+parseInt($(elem).css('margin-left'),10);}}}
function addTerminator(){var articleBodyLast=$('.article-body > :last-child');if($(articleBodyLast).is('p,div')&&$(articleBodyLast).not(':empty')){$(articleBodyLast).append('<span class=\"term bgcontain\"><img src=\"/static/onion/img/terminator_1x.png\"></span>');}}
function showTooltip(event){$('#fb-like').attr('src',$('#fb-like').attr('data-src'));(function(d,placeholder,id){if($('#'+id).length===0){var js=d.createElement('script');js.id=id;js.src='//platform.twitter.com/widgets.js';$('#'+placeholder).after(js);}})(document,'twitter-placeholder','twitter-wjs');$('.flyout',this).show().parent().parent().addClass('open');}
function hideTooltip(){$('.flyout',this).hide().parent().parent().removeClass('open');}
function iosRotationFix(){(function(w){var ua=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(ua)&&ua.indexOf("AppleWebKit")>-1)){return;}
var doc=w.document;if(!doc.querySelector){return;}
var meta=doc.querySelector("meta[name=viewport]"),initialContent=meta&&meta.getAttribute("content"),disabledZoom=initialContent+",maximum-scale=1",enabledZoom=initialContent+",maximum-scale=10",enabled=true,x,y,z,aig;if(!meta){return;}
function restoreZoom(){meta.setAttribute("content",enabledZoom);enabled=true;}
function disableZoom(){meta.setAttribute("content",disabledZoom);enabled=false;}
function checkTilt(e){aig=e.accelerationIncludingGravity;x=Math.abs(aig.x);y=Math.abs(aig.y);z=Math.abs(aig.z);if((!w.orientation||w.orientation===180)&&(x>7||((z>6&&y<8||z<8&&y>6)&&x>5))){if(enabled){disableZoom();}}
else if(!enabled){restoreZoom();}}
w.addEventListener("orientationchange",restoreZoom,false);w.addEventListener("devicemotion",checkTilt,false);})(this);}
$(function(){if($('body.search-page .search-filters').length)
SearchPage();});function SearchPage(){var results={},pageNum=1,query='',filters,stats,list,loading;setup();function setup(){filters=$('.search-filters');stats=$('.result-stats');list=$('.search_list');loading=$('<div class="loading-cover" />').hide().appendTo(list.parent());$('input[type="checkbox"]',filters).click(toggleFilter);$('input[type="radio"]',filters).click(changeSort);$('.navigation .see-prev').live('click',prevPage);$('.navigation .see-more').live('click',nextPage);$('.navigation .numbers a').live('click',pageNumClick);var total=parseInt($('.navigation .pages').attr('data-total'),10);if(total){results={total_pages:total,page:1,has_next:total>1};updatePagination();}}
function toggleFilter(e){e.preventDefault();var elem=$(this);setTimeout(function(){if(elem.is(':checked'))
elem.removeAttr('checked');else
elem.attr('checked','checked');if(elem.is('#types-all'))
$('[id!=types-all]',filters).removeAttr('checked');else
$('#types-all',filters).removeAttr('checked');if($('input:checked',filters).length===0)
$('#types-all',filters).attr('checked','checked');pageNum=1;refreshResults();});}
function changeSort(e){pageNum=1;refreshResults();}
function refreshResults(){loading.show();query=$('.search_entry input[name=q]').val();var filterString=getFilterString(),q=encodeURIComponent(query),sort=$('.sort-options input:checked',filters).val()||'date';$.ajax({type:'get',dataType:'json',url:'/ajax/search.json?q='+q+filterString+'&page='+pageNum+'&sort='+sort,success:function(res){loading.hide();displayResults(res);},error:function(res){loading.hide();alert(res);}});}
function displayResults(_results){results=_results;$('.count',stats).text(results.count);$('.query',stats).text(query);var html=[],items=results.object_list||[];for(var n=0,l=items.length;n<l;n++){var item=items[n];html.push(item.rendered);}
list.html(html.join(''));updatePagination();}
function getFilterString(){if($('input#types-all').is(':checked'))
return'';var filters=[''];$('input[id!=types-all]:checked').filter('[type="checkbox"]').each(function(){filters.push(encodeURIComponent($(this).val()));});if(filters.length<=1)
return'';return filters.join('&onion_type[]=');}
function updatePagination(){var shown=[],max=12,total=results.total_pages,page=results.page;if(total<max)
shown=range(1,total);else if(page<max-2)
shown=range(1,max-2).concat(['...',total]);else if(page>total-max+3)
shown=[1,'...'].concat(range(total-max+3,total));else
shown=[1,'...'].concat(range(page-max/2+3,page+max/2-3)).concat(['...',total]);function range(start,end){var out=[];for(var n=start;n<=end;n++)
out.push(n);return out;}
var links=[];for(var n=0;n<shown.length;n++){var pg=shown[n];if(pg=='...')
links.push(' <span class="separator">&hellip;</span> ');else
links.push(''
+'<a href="#" data-page-num="'+pg+'"'+(pg===results.page?' class="selected">':'>')
+'<span>'+pg+'</span>'
+'</a>');}
$('.navigation .numbers').html(links.join(''));if(results.has_next)
$('.navigation .see-more').show();else
$('.navigation .see-more').hide();if(pageNum>1)
$('.navigation .see-prev').show();else
$('.navigation .see-prev').hide();$('.navigation').show();}
function prevPage(e){e.preventDefault();if(pageNum<=1)return;showPage(pageNum-1);}
function nextPage(e){e.preventDefault();showPage(pageNum+1);}
function showPage(n){pageNum=n;refreshResults();scrollToTop();}
function pageNumClick(e){e.preventDefault();var num=parseInt($(this).attr('data-page-num'),10);showPage(num);}
function scrollToTop(){var currentPos=$(document).scrollTop(),target=$('.search-wrap').offset().top-160;if(currentPos>target)
$(document).scrollTop(target);}}
function faketemp(){var to=100;var t=Math.floor(Math.random()*(to-19+1)+19);$("#weather .temp").html(Math.floor(Math.random()*(to-t+1)+t)+"<sup>&#176;</sup>");}
$(function(){if($('#guts > .search .search-options').length)
searchBehavior();});function searchBehavior(){setup();function setup(){filters=$('.filter-options');$('input[type="checkbox"]',filters).click(toggleFilter);}
function toggleFilter(e){e.preventDefault();var elem=$(this);setTimeout(function(){if(elem.is(':checked'))
elem.removeAttr('checked');else
elem.attr('checked','checked');if(elem.is('#types-all'))
$('[id!=types-all]',filters).removeAttr('checked');else
$('#types-all',filters).removeAttr('checked');if($('input:checked',filters).length===0)
$('#types-all',filters).attr('checked','checked');});}}
$(document).ready(function(){iosRotationFix();$('.expansion-toggle').click(function(){$(this).toggleClass('expanded');$('.expansion').toggle();});Raven.config('http://1cea599551c445a8a5f34625b9d79ba7@sentry.onion.com/2');$('#networks .social').bind({mouseenter:showTooltip,mouseleave:hideTooltip});o.on('page.new',function(pageObj){$('.expansion-toggle').removeClass('expanded');$('.expansion').hide();});});o.on('page.new',function(pageObj){if(pageObj.metadata.targeting.dfp_channel){dfp_channel=pageObj.metadata.targeting.dfp_channel;}
$('.navigation .active').removeClass('active');if(dfp_channel!==undefined){$('.navigation .'+dfp_channel).addClass('active');}
audiojs.createAll();enlargeImage();addTerminator();});o.on('page.unload',function(pageObj){OBR={}});window.o=window.o||{};window._gaq=window._gaq||[];function Reporting(){}
Reporting.prototype.trackEvent=function(data){var category=data['category'];var action=data['action'];var label=typeof data['label']==="undefined"?null:data['label'];var value=typeof data['value']==="undefined"?null:data['value'];var interaction=typeof data['interaction']==="undefined"?true:data['interaction'];_gaq.push(['bigboy._trackEvent',category,action,label,value,interaction]);_gaq.push(['_trackEvent',category,action,label,value,interaction]);}
Reporting.prototype.trackVideoEvent=function(data){if(typeof data==="string"){var action=data;data={"action":action};}
if(o.reporting.videoActions.indexOf(data['action'])!==-1){return false;}
o.reporting.videoActions.push(data['action']);if(typeof data['label']==="undefined")data['label']=o.page.active.path;if(!data.category){if(window.embeddedPlayer){data['category']="video_embed"}else if(window.videoDistro){data['category']="video_distro"}else{data['category']="video_page";}}
this.trackEvent(data);return true;}
Reporting.prototype.destroy=function(){}
Reporting.prototype.trackPageview=function(obj){if(self.location.pathname.indexOf('/ads/interstitial')===0)return
if(Object.keys(obj).length===0||obj.metadata&&obj.metadata.no_track){return;}
queryParams=this.getQueryParams();this.setCustomVars(obj.metadata&&obj.metadata.targeting);this.trackComscore(document.title);this.trackQuantcast();var override=undefined;if(obj.metadata&&(obj.metadata.vpv_path==="/404/"||obj.metadata.vpv_path==="/500/")){override=obj.metadata.vpv_path;}
this.trackBaseGoogleAnalytics(override);if(!this.isAutoRef(queryParams)){try{this.trackChartbeat()}catch(e){}}
this.trackVPV(obj.metadata.vpv_path||"/vpv/uncategorized/",obj.metadata.master_vpv_path||"/uncategorized/");prefetch=true;}
Reporting.prototype.trackClick=function(e){var target=e.target||e.srcElement;try{var click_info=this.getCtSection(e.target)
var section=click_info.section
var url=click_info.url
o.reporting.trackEvent({'category':'click','action':section,'label':url})}catch(err){}
return true;};Reporting.prototype.getQueryParams=function(){var params=window.location.href.split("?")[1];if(params===undefined)return{};params=params.split("&");params_map={};for(var i=0;i<params.length;i++){var param=params[i].split("=");params_map[param[0]]=param[1];}
return params_map;}
Reporting.prototype.isAutoRef=function(queryParams){queryParams=queryParams||this.getQueryParams();var autoRefresh='ref'in queryParams&&queryParams['ref']=='auto';var offSiteReferrer=document.referrer.indexOf("theonion.com")==-1&&document.referrer.indexOf("avclub.com")==-1;return(autoRefresh&&!offSiteReferrer)}
var self_window=self;o.reporting=(function(){if(self_window.location.pathname.indexOf('/ads/interstitial')===0)return
var self=new Reporting();var initialized=false;var prefetch=false;self.uuid='';var queryParams;self.videoActions=[];setup();function setup(){setupIgnoredOrganicKeywords();self.uuid=getUUID();queryParams=self.getQueryParams();o.on("page.new",function(pageObj){o.reporting.trackPageview(pageObj);});o.on("page.left-click",function(e){o.reporting.trackClick(e)});}
self.setCustomVars=function(targeting){targeting=targeting||{};_gaq.push(["_setCustomVar",1,"dfp_adchannel",targeting.dfp_adchannel||"Other",3]);_gaq.push(["_setCustomVar",2,"dfp_articletype",targeting.dfp_articletype||"Other",3]);_gaq.push(["_setCustomVar",3,"dfp_channel",targeting.dfp_channel||"Other",3]);_gaq.push(["_setCustomVar",4,"dfp_pagetype",targeting.dfp_pagetype||"Other",3]);_gaq.push(["_setCustomVar",5,"prefetch",String(prefetch),3]);if(queryParams['ref']){_gaq.push(['bigboy._setCustomVar',3,'ref',queryParams['ref'],3]);}}
self.trackFrame=function(title,path){var src="/t/#title="+encodeURIComponent(title)+"&url="+encodeURIComponent("http://"+window.location.host+path);$("iframe#tracking").remove();var iframe=$("<iframe id='tracking'>").appendTo("body").css({display:"none"});setTimeout(function(){iframe[0].src=src;});}
self.trackComscore=function(title){if(!prefetch){this.comscoreBeacon();}else{if(!title)Raven.captureMessage("No Title For Comscore Pageview Candidate.");$.get("/t/pageview_candidate.xml?title="+encodeURIComponent(title)+"&rand="+Math.round(Math.random()*10000000));this.comscoreBeacon();}}
self.trackQuantcast=function(){if(!prefetch){_qevents.push({qacct:"p-39FYaAGOYli_-"});}else{_qevents.push({qacct:"p-39FYaAGOYli_-",'event':"refresh"});}}
self.trackBaseGoogleAnalytics=function(override){var path=override?override:(location.pathname+location.search+location.hash);_gaq.push(["_trackPageview",path]);}
self.trackVPV=function(vpv,masterVpv){var query=false;if(queryParams['q']){vpv+="?q="+queryParams['q'];query=true;}
for(param in queryParams){if(param.indexOf('utm')>-1){vpv+=query?"&"+param+"="+queryParams[param]:"?"+param+"="+queryParams[param];query=true;}}
if(!this.isAutoRef(queryParams)){_gaq.push(['bigboy._trackPageview',location.pathname+location.search+location.hash],['bigboy._trackPageview',vpv+location.hash],['master._trackPageview',masterVpv]);}
this.firePixel({"event":"pageview","uuid":this.uuid,"timezoneOffset":new Date().getTimezoneOffset()/60,"vpv":vpv,"referrer":document.referrer||"direct"});}
self.trackChartbeat=function(){pSUPERFLY.virtualPage(window.location.pathname,document.title);}
self.comscoreBeacon=function(){COMSCORE.beacon({c1:2,c2:6036328,c3:"",c4:"",c5:"",c6:"",c15:""});}
self.firePixel=function(params){var q="?";for(var key in params){if(params.hasOwnProperty(key)){if(q.length>2)q+="&";q+=key+"="+params[key];}}
$("<img src='http://reporting.theonion.com:3333/pixel.gif"+q+"'/>").css({position:'absolute',left:-30000,top:-30000,opacity:0}).appendTo('body');}
function setupIgnoredOrganicKeywords(){if(typeof ignoredOrganicKeywords!=="undefined")
for(var i=0;i<ignoredOrganicKeywords.length;i++){_gaq.push(['bigboy._addIgnoredOrganic',ignoredOrganicKeywords[i]],['master._addIgnoredOrganic',ignoredOrganicKeywords[i]]);}}
function getUUID(){var CHARS="0123456789ABCDEF".split("");var uuid=[];var afnsUUID=$.cookie("afnsUUID");if(!afnsUUID){for(var i=0;i<10;i++)uuid[i]=CHARS[0|Math.random()*16];afnsUUID=uuid.join("");$.cookie("afnsUUID",afnsUUID,{path:'/',expires:60*60*24*365});}
return afnsUUID;}
self.getCtSection=function(elem,href){var ct_section_name=elem.getAttribute("data-ct_section_name")
if(!href)href=elem.getAttribute("href")
if(ct_section_name=="blank")ct_section_name="blank"
if(ct_section_name==null)return self.getCtSection(elem.parentElement||elem.parentNode,href)
if(ct_section_name[0]==":"){var click_object=self.getCtSection(elem.parentElement||elem.parentNode,href)
click_object.section=click_object.section+ct_section_name
return click_object}
if(o.reporting.section_prefix){ct_section_name=o.reporting.section_prefix+":"+ct_section_name}
return{'section':ct_section_name,'url':href}}
o.ready(function(){var show=o.utils.getParameterByName('ct_section')
if(show!="show")return
$("body").append($("<div>").attr('id','ct_section_display').css({'position':'fixed','top':'10px','left':'10px','z-index':150,'background-color':'white'}))
$("body").delegate("a","mouseover",function(e){var name=o.reporting.getCtSection(e.target)
$("#ct_section_display").text(name)})})
return self;})();window.o=window.o||{};o.utils=(function(){var self={};self.getParameterByName=function(name){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var search;try{search=parent.o.page.search;}catch(err){search=window.location.search;}
var results=regex.exec(search);if(results===null){return"";}
else{return decodeURIComponent(results[1].replace(/\+/g," "));}};self.utf8_to_b64=function(str){return window.btoa(unescape(encodeURIComponent(str)));}
self.b64_to_utf8=function(str){return decodeURIComponent(escape(window.atob(str)));}
return self;})();(function($){$.fn.reverseOrder=function(){return this.each(function(){$(this).prependTo($(this).parent());});};})(jQuery);(function(){var root=this;var Utils={getQueryParams:function(){var params=window.location.href.split("?")[1];if(params===undefined)return{};params=params.split("&");params_map={};for(var i=0;i<params.length;i++){var param=params[i].split("=");params_map[param[0]]=param[1];}
return params_map;},enterFullScreen:function(id){$("#"+id).addClass("fullscreen");$("#sponsored_video").addClass("fullscreen");$("#wrapper").css("z-index",30000001);$("#player_wrapper").css("z-index",30000001);},exitFullScreen:function(id){$("#"+id).removeClass("fullscreen");$("#sponsored_video").removeClass("fullscreen");$("#wrapper").css("z-index","auto");$("#content").css("z-index","auto");$("#player_wrapper").css("z-index","auto");}}
root.Utils=Utils;})();var Ads=(function(){var Ads=function(global_object){window.googletag=window.googletag||{};googletag.cmd=googletag.cmd||[];window.init_dfp=window.init_dfp||function(){(function(){var gads=document.createElement('script');gads.async=true;gads.type='text/javascript';gads.id="dfp_script";var useSSL='https:'==document.location.protocol;gads.src='http://www.googletagservices.com/tag/js/gpt.js';var node=document.getElementsByTagName('script')[0];node.parentNode.insertBefore(gads,node);})();};var ads=this;var o=global_object||window.o;ads.viewportChangeTimeout=null;o.on('page.new',function(pageObj){if(ads.initialized){ads.destroy(o);}
if(/^\/video\//.test(window.location.pathname)&&window.location.pathname!=="/video/"){o.on('video-ads.loaded',function(updatedPageObj){o.off('video-ads.loaded',arguments.callee);o.ads.destroy(o);init_dfp();googletag.cmd.push(function(){ads.setup(updatedPageObj.metadata.targeting,o);});});}else{init_dfp();googletag.cmd.push(function(){ads.setup(pageObj.metadata.targeting,o);});}});};Ads.prototype={adbuilderSetup:function(adhash,global_o){global_o=global_o||window.o;var ads=this;$.get("/ads/adbuilder/serve/?ad="+adhash,function(data){ads.insertAdsFromJson(data.adobject,global_o);});},adopsAdbuilderSetup:function(adhash,global_o){var ads=this;var o=global_o||window.o;$.get("http://adops.onion.com/adbuilder/serve/?ad="+adhash,function(data){var ad_objects=JSON.parse(data);var targeted_ad_objects=[];$.each(ad_objects,function(){var this_ad_object=this;var targeting_array=this_ad_object.targeting;$.each(targeting_array,function(){var targeting_object=this;if(matchTargetingObject(targeting_object,o.page.active.metadata.targeting)){targeted_ad_objects.push(this_ad_object);return;}});});var targeted_creative=[];var targeted_slots=[];$.each(targeted_ad_objects,function(){$.each(this.slots,function(name){if(searchStringInArray(name,targeted_slots)>-1)console.log("Duplicate Slot: "+name);targeted_slots.push(name);targeted_creative.push({'slotname':name,'value':this.creative});});});ads.insertAdsFromJson(targeted_creative,o);});},adUnitsTestSetup:function(){var bodyclass='ad-unit-testing';var css={"background-color":"#008D52","color":"white","min-height":"48px","min-width":"300px",};$("body").addClass(bodyclass);$(".dfp-ad").each(function(){$(this).css(css).html("<strong>"+this.id.replace("dfp-ad-","")+"</strong>"+"<br>"+$(this).attr("data-viewports"));});},createIframe:function(contents,slotId){var iframe=document.createElement("iframe");if(slotId){document.getElementById(slotId).appendChild(iframe);}
iframe.setAttribute('srcdoc',contents);iframe.setAttribute("marginwidth",0);iframe.setAttribute("marginheight",0);iframe.setAttribute("hspace",0);iframe.setAttribute("vspace",0);iframe.setAttribute("frameBorder",0);iframe.setAttribute("border",0);iframe.setAttribute("scrolling","no");var styleString="width: 100%; height: 100%; border: none; overflow: hidden;";iframe.setAttribute("style",styleString);if(iframe.style.setAttribute)iframe.style.setAttribute("cssText",styleString);srcDoc.set(iframe);return iframe;},destroy:function(global_o){global_o=global_o||window.o;var dfp_junk=["googletag","GPT_jstiming","Goog_AdSense_getAdAdapterInstance","Goog_AdSense_OsdAdapter","google_noFetch","google_DisableInitialLoad","_GA_googleCookieHelper","__google_ad_urls","google_unique_id","google_exp_persistent","google_num_sdo_slots","google_num_0ad_slots","google_num_ad_slots","google_correlator","google_prev_ad_formats_by_region","google_prev_ad_slotnames_by_region","google_num_slots_by_channel","google_viewed_host_channels","google_num_slot_to_show","gaGlobal","google_persistent_state","google_onload_fired"];global_o.ad_units.demolish(global_o);$('.dfp-ad.ad-zone').html('');$("#dfp_script").remove();for(var i=0;i<dfp_junk.length;i++)delete window[dfp_junk[i]];window.googletag={};window.googletag.cmd=[];},getVisibleAds:function(){var visible_ads=[];$('.dfp-ad').each(function(){visible_ads.push(this);});return visible_ads;},insertAdsFromJson:function(ads,global_o){var adsjs=this;var o=global_o||window.o;$.each(ads,function(){var slotname=this.slotname;var slotId="dfp-ad-"+slotname;var slotSelector="#"+slotId;if($(slotSelector).length===0)return;var contents="<!DOCTYPE html><html><head><meta charset=\"utf-8\"><style>*{margin:0px; padding:0px; overflow: hidden;}</style></head><body>";contents+=this.value;contents+="</body></html>";document.getElementById(slotId).innerHTML="";adsjs.createIframe(contents,slotId);});setTimeout(o.ads.ready,1000,global_o);},ready:function(global_o){global_o=global_o||window.o;var custom_units=[];var ads=global_o.ads;$(ads.visible_ads).each(function(){var ad_slot=this;$(this).find("iframe").each(function(){var ad_data=$(this).contents().find('div[data-ad_type]').data();var slotname=$(this).parent().attr('id');if(ad_data){if(ad_data.ad_type&&$("#"+slotname).length>0){var unit=ad_data;unit.slotname=slotname;custom_units.push(unit);$(ad_slot).find("iframe").hide();}}
var extraTags=$(this).contents().find(".afns-ad-element:not(div[data-ad_type])");$('#'+slotname).append(extraTags);});});global_o.ad_units.build(custom_units,global_o);global_o.emit('ads.ready.end');},refresh:function(global_o){var web_ads=[];global_o=global_o||window.o;global_o.ad_units.demolish(global_o);var ads=this;$(this.visible_ads).each(function(i){var slot_name=this.id.replace("dfp-ad-","");web_ads.push(ads.active_list[slot_name]);});googletag.pubads().refresh(web_ads);},setup:function(targeting,global_o){var o=global_o||window.o;var ads=this;this.visible_ads=(o.adconfig&&o.adconfig.getVisibleAds||o.ads.getVisibleAds)();var adTestMode=window.adbuilderHash||o.utils.getParameterByName('ad');if(adTestMode){if(adTestMode=="showslots"){ads.adUnitsTestSetup();}
else{ads.adbuilderSetup(adTestMode,o);}
return;}
var adopsTestMode=o.utils.getParameterByName('adops');if(adopsTestMode){ads.adopsAdbuilderSetup(adopsTestMode,o);return;}
this.active_list={};this.initialized=true;if(o.adconfig&&o.adconfig.addTargeting){props=o.adconfig.addTargeting();for(var k in props){targeting[k]=props[k];}}
for(var t in targeting){if(targeting[t])googletag.pubads().setTargeting(t,targeting[t].toString());}
$(this.visible_ads).each(function(i){var slot_name=this.id.replace("dfp-ad-","");var h=$(this).data('height');var w=$(this).data('width');var ad=googletag.defineSlot('/1009948/'+slot_name,[w,h],this.id).addService(googletag.pubads());ads.active_list[slot_name]=ad;ads.active_list[slot_name].originalRenderEnded=ad.renderEnded;var totalAdCount=ads.visible_ads.length;ads.adsRendered=0;ads.active_list[slot_name].renderEnded=function(){ads.adsRendered+=1;ads.active_list[slot_name].originalRenderEnded();if(ads.adsRendered>=totalAdCount){setTimeout(ads.ready,0,o);}};});googletag.pubads().collapseEmptyDivs();googletag.pubads().enableSingleRequest();googletag.enableServices();$(this.visible_ads).each(function(){googletag.display(this.id);});},};var getLog=function(){var events=googletag.getEventLog().getAllEvents();for(var i=0;i<events.length;i++){console.log(events[i].toString());}};var matchTargeting=function(targeting_object,page_targeting){if(targeting_object.name=="dfp_viewport")return true;if(!(targeting_object.name in page_targeting))return false;if(searchStringInArray(page_targeting[targeting_object.name],targeting_object.values)>-1){if(targeting_object.operator==="IS")return true;}else{if(targeting_object.operator==="IS_NOT")return true;}
return false;};var matchTargetingObject=function(targeting_object,page_targeting){var return_value=true;$.each(targeting_object,function(name){this.name=name;if(!matchTargeting(this,page_targeting)){return_value=false;return;}});return return_value;};var searchStringInArray=function(str,strArray){for(var j=0;j<strArray.length;j++){if(strArray[j].match(str))return j;}
return-1;};return Ads;})();window.o=window.o||{};if(top!==self){o.ready(function(){o.screen=parent.o.screen;o.page=parent.o.page;});}
o.ads=new Ads(o);o.adconfig=(function(){var self={};self.getVisibleAds=function(){var viewport=o.screen.viewport;var visible_ads=[];$(".dfp-ad").hide();$(".dfp-ad").each(function(ad){var viewports=$(this).attr("data-viewports");if(viewports&&(viewports=="all"||viewports.indexOf(viewport)!=-1)){visible_ads.push(this);}})
$(visible_ads).show();return visible_ads;};self.addTargeting=function(){var targeting={};targeting["dfp_viewport"]=o.screen.viewport;if(o.utils.getParameterByName("utm_medium")=="SocialMarketing"){targeting["dfp_source"]="social";}
if(o.utils.getParameterByName("recirc")){targeting.dfp_adchannel=targeting.dfp_channel=o.utils.getParameterByName("recirc");}
return targeting;}
function viewportChange(viewport){o.adconfig&&o.adconfig.getVisibleAds()||self.getVisibleAds();init_dfp();googletag.cmd.push(function(){o.ads.setup(o.page.active.metadata.targeting,o);});}
o.on('screen.viewport-change',function(viewport){o.ads.destroy(o);clearTimeout(o.ads.viewportChangeTimeout);o.ads.viewportChangeTimeout=setTimeout(function(){viewportChange(viewport)},500);});return self})();AdUnits=function(){this.class_prefix='afns-ad-';this.pix_track_class='#pixel_trackers';this.interstitial_iframe='afns-ad-interstitial-iframe';};AdUnits.prototype.build=function(unit_data,global_object){this.unit_data=unit_data;for(var i=unit_data.length-1;i>=0;i--){if(!unit_data[i].built&&unit_data[i].blocking&&unit_data[i].ad_type){var new_unit_data=$.extend(true,[],unit_data);new_unit_data.splice(i,1);this.unit_data=new_unit_data;unit_data[i].built=true;this.updateAdBodyClasses(unit_data);this[unit_data[i].ad_type].build(unit_data[i],global_object);return;}}
var adunits=this;$.each(unit_data,function(){if(!this.built){if(this.ad_type){var adType=adunits[this.ad_type];adType.build(this,global_object);this.built=true;}}});this.updateAdBodyClasses(unit_data);};AdUnits.prototype.createRule=function(rule_text){var styleunitent=$("<style class='"+this.element_class+"'>"+rule_text+"</style>");$('body').append(styleunitent);};AdUnits.prototype.createTrackingPixel=function(url){url=$.trim(url);if(url)
{$('#pixel_trackers').append($("<img src=\""+url+"\">"));}};AdUnits.prototype.createOverlay=function(unit){var guts=$('#guts');this.video_reveal='afns-ad-video_reveal';var overlay=$("<div>").attr('id','afns-ad-'+unit.name+'_overlay').addClass(this.element_class+' '+this.video_reveal).css({'top':guts.offset().top+'px','height':guts.height()+'px'});$("#"+unit.slotname).prepend(overlay);var overlayTracker=function(){$('#'+'afns-ad-'+unit.name+"_overlay").css('top',guts.offset().top+'px');};unit.overlayTrackerInterval=setInterval(overlayTracker,500);return overlay;};AdUnits.prototype.updateAdBodyClasses=function(unit_data){var classes=[];var ad_units=this;$(unit_data).each(function(){if(this.built&&this.ad_type){classes.push(ad_units.class_prefix+this.ad_type);}});var bodyClasses=document.body.className;document.body.className=bodyClasses.replace(/afns-ad-[a-z0-9-]+/,'')+' '+classes.join(' ');};AdUnits.prototype.demolish=function(global_object){var unit_data=this.unit_data||[];var new_units=[];var adunits=this;$.each(unit_data,function(){if(this.ad_type){if(this.built){var adType=adunits[this.ad_type];adType.demolish(global_object);$("#"+this.slotname).html("");}else{new_units.push(this);}}});this.updateAdBodyClasses([]);$('.'+this.element_class).fadeOut(200,function(){$(this).remove();});this.unit_data=new_units;};AdUnits.prototype.interstitial={iframe_id:'afns-ad-interstitial-iframe',base_class:'afns-ad-interstitial',active_class:'afns-ad-interstitial-active',css:{'display':'none'},build:function(unit,global_object){if(global_object.isIframe)return;var iframe=$("<iframe>").css(this.css).attr({'src':unit.iframe_url,'id':this.iframe_id}).addClass(global_object.ad_units.element_class+' '+this.base_class);function showInterstitial(e){global_object.ad_units.interstitial.clickEvent=e||window.event;var target_hostname=global_object.ad_units.interstitial.clickEvent.target.hostname,window_hostname=window.location.hostname;if(target_hostname!=window_hostname){return true;}
$('body').off('click','a',showInterstitial);$('body').append(iframe);global_object.on('keypress.esc',function(){global_object.ad_units.interstitial.demolish(global_object);});return false;}
$('body').on('click','a',showInterstitial);},demolish:function(global_object){if(global_object.ad_units.interstitial.clickEvent&&global_object.page.willPrefetch(global_object.ad_units.interstitial.clickEvent)){$('iframe.'+global_object.ad_units.element_class+'.'+this.base_class).remove();$('body').removeClass(this.active_class);$(global_object.ad_units.interstitial.clickEvent.target)[0].click();$('body').removeClass(this.base_class);global_object.off('keypress.esc',function(){global_object.ad_units.interstitial.demolish(global_object);});}else{var closestAnchor=$(global_object.ad_units.interstitial.clickEvent.target).closest('a')[0];window.location=closestAnchor.href;}}};AdUnits.prototype.premercial={iframe_id:'afns-ad-interstitial-iframe',base_class:'afns-ad-premercial',active_class:'afns-ad-interstitial-active',css:{'display':'none'},build:function(unit,global_object){if(global_object.isIframe){global_object.ad_units.premercial.demolish(global_object);return;}
var iframe=$("<iframe>").css(this.css).attr({'src':unit.iframe_url,'id':this.iframe_id}).addClass(global_object.ad_units.element_class+' '+this.base_class);$('body').append(iframe);global_object.on('keypress.esc',function(){global_object.ad_units.premercial.demolish(global_object);});},demolish:function(global_object){$('iframe.'+global_object.ad_units.element_class+'.'+this.base_class).remove();global_object.ad_units.build(global_object.ad_units.unit_data,global_object);$('body').removeClass(this.active_class);global_object.off('keypress.esc',function(){global_object.ad_units.premercial.demolish(global_object);});return;}};AdUnits.prototype.interstitial_video={unit_name:'interstitial_video',unit_behavior:'soundOn',container_id:'interstitial_video_container',build:function(unit,global_object){global_object.ad_units.interstitial_video.unit=unit;global_object.ad_units.interstitial_video.unit.name=this.unit_name;global_object.ad_units.interstitial_video.unit.behavior=this.unit_behavior;$("#"+unit.slotname).attr("style","");var containerdiv=$("<div>").attr({"id":this.container_id});$("#"+unit.slotname).prepend(containerdiv);global_object.ad_units.interstitial_video.unit.$video_container=containerdiv;var videoanchor=$("<a>").attr({"href":unit.video_click_url,"target":"_blank"});containerdiv.append(videoanchor);global_object.ad_units.interstitial_video.unit.video_anchor=videoanchor;global_object.ad_units.interstitial_video.video_unit=new VideoUnit(global_object,global_object.ad_units.interstitial_video.unit);if(unit.pixel_tracker_url){AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url);}
if(unit.video_sound_pixel_tracker_url){top.$('#pixel_trackers').append($("<img class=\"video_sound_pixel_tracker "+global_object.ad_units.element_class+"\" data-video_sound_pixel_tracker_url=\""+unit.video_sound_pixel_tracker_url+"\">"));}
top.$('#afns-ad-interstitial-iframe').show();top.$('body').addClass('afns-ad-interstitial-active');},demolish:function(global_object){return;}};AdUnits.prototype.swf={base_class:'afns-ad-swf',container_class:'ad_units_swf_ad_flash_container',overlay_id:'afns_ad_swf_overlay',dfp_header:'dfp-ad-header',dfp_300x250:'dfp-ad-300x250_abovefold',build:function(unit,global_object){global_object.ad_units.swf.unit=unit;var id=this.container_class+'_'+unit.slotname;$('#'+unit.slotname).append($('<div>').attr('id',id).css({'width':unit.width+'px','height':unit.height+'px','top':unit.top_position+'px'}).addClass(this.container_class));if(unit.center){$('#'+id).css({'position':'absolute','left':'50%','margin-left':unit.width/-2+'px'});}
if(unit.overlay_color){$("#"+unit.slotname).append($("<div>").attr('id',this.overlay_id).addClass(global_object.ad_units.element_class).css({'position':'fixed','top':'0px','left':'0px','width':'100%','height':'100%','z-index':20,'background-color':unit.overlay_color}));}
if(FlashReplace.checkForFlash(7)){FlashReplace.replace(id,unit.swf_url+"?"+unit.click_tag_name+"="+escape(unit.clickthru_url),"",unit.width,unit.height,7,{wmode:"transparent",quality:"high",allowScriptAccess:"always"});}
else{$('#'+unit.slotname).append('<img src="'+unit.static_image_url+'"/>');}
if(global_object.ad_units.swf.unit.header_static_image){$("#"+this.dfp_header).append("<img class='"+global_object.ad_units.element_class+' '+this.base_class+"' src='"+global_object.ad_units.swf.unit.header_static_image+"'>");}
if(global_object.ad_units.swf.unit.box_static_image){$("#"+this.dfp_300x250).append("<img class='"+global_object.ad_units.element_class+' '+this.base_class+"' src='"+global_object.ad_units.swf.unit.box_static_image+"'>");}
if(unit.duration){setTimeout(global_object.ad_units.swf.demolish,unit.duration*1000,global_object);window.afns_close_premercial=function(){global_object.ad_units.swf.demolish(global_object);};global_object.on('keypress.esc',function(){global_object.ad_units.swf.demolish(global_object);});}
if(unit.pixel_tracker_url){AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url);}},demolish:function(global_object){global_object.off('keypress.esc',function(){global_object.ad_units.swf.demolish(global_object);});var swf=global_object.ad_units.swf;$('.'+swf.container_class).remove();$('#'+swf.overlay_id).remove();$('body').removeClass(swf.base_class);$('img.'+swf.base_class).remove();if(global_object.ad_units.swf.unit.header_static_image){$("#"+swf.dfp_header+" iframe").contents().find("*").each(function(){var tag=this;var data=$(tag).data();if(!data)return;$.each(data,function(i,v){$(tag).attr(i,v);$(tag).removeAttr('data-'+i);});});$("#"+swf.dfp_header+" iframe").contents().find("head").append($("<style>*{margin:0px; padding:0px; overflow: hidden;}</style>"));var header_html=$("#"+swf.dfp_header+" iframe").contents().find("*").html();$("#"+swf.dfp_header+" *").remove();global_object.ads.createIframe(header_html,swf.dfp_header);}
if(global_object.ad_units.swf.unit.box_static_image){$("#"+swf.dfp_300x250+" iframe").contents().find("*").each(function(){var tag=this;var data=$(tag).data();if(!data)return;$.each(data,function(i,v){$(tag).attr(i,v);$(tag).removeAttr('data-'+i);});});$("#"+swf.dfp_300x250+" iframe").contents().find("head").append($("<style>*{margin:0px; padding:0px; overflow: hidden;}</style>"));var abovefold_html=$("#"+swf.dfp_300x250+" iframe").contents().find("*").html();$("#"+swf.dfp_300x250+" *").remove();global_object.ads.createIframe(abovefold_html,swf.dfp_300x250);}
global_object.ad_units.build(global_object.ad_units.unit_data,global_object);return;}};var VideoUnit=(function(){var VideoUnit=function(global_object,ad_unit,passed_volume){var volume=passed_volume||0;var video_unit=this;video_unit.ad_unit=ad_unit;video_unit.top_right_icon=ad_unit.top_right_icon||"resize-full";video_unit.video_tag_selector=video_unit.ad_unit.name+"_video";video_unit.o=global_object;var videotag=createVideoTag(ad_unit.name,video_unit.o.ad_units.element_class);$(ad_unit.video_anchor).append(videotag);fetchVAST(ad_unit.vast_url,function(data){video_unit.setupVAST(data,volume,ad_unit);});};var createVideoTag=function(name,element_class){return $('<video>').attr('id',name+'_video').addClass('video-js vjs-default-skin afns-ad-'+name+' '+element_class);};VideoUnit.prototype.setupVAST=function(data,volume,ad_unit){var mediaFiles=data[0].creatives[0].mediaFiles;this.clickThrough=data[0].creatives[0].clickThrough;this.clickTrack=data[0].creatives[0].clickTracking;this.videoPlayTracking=data[0].creatives[0].tracking;this.impressionTrack=data[0].impressions;this.sources=$.map(mediaFiles,function(v){return{'type':v.type,'src':v.src};});$(ad_unit.video_anchor).attr("href",this.clickThrough).click(function(){AdUnits.prototype.createTrackingPixel(ad_unit.clickTrack);});this.play(volume);for(var i=0;i<this.impressionTrack.length;i++){AdUnits.prototype.createTrackingPixel(this.impressionTrack[i]);}};VideoUnit.prototype.play=function(volume){var video_unit=this;if(videojs.players[this.video_tag_selector]){videojs(this.video_tag_selector).dispose();var videotag=createVideoTag(video_unit.ad_unit.name,self.element_class);$(this.ad_unit.video_anchor).prepend(videotag);}
videojs(this.video_tag_selector,{preload:true,controls:false,width:'auto',height:'auto'},function(){video_unit.player=this;video_unit.startPlayer(video_unit,this,volume);});};VideoUnit.prototype.startPlayer=function(video_unit,player,volume){try{player.controlBar.el().parentNode.removeChild(player.controlBar.el());player.loadingSpinner.el().parentNode.removeChild(player.loadingSpinner.el());}catch(e){}
video_unit.behaviors[video_unit.ad_unit.behavior](video_unit);player.prevTime=0;player.on('timeupdate',$.proxy(VideoUnit.prototype.timeUpdate,video_unit));video_unit.bindVastTimingEvents(player,{'VAST.start':'start','VAST.firstQuartile':'firstQuartile','VAST.midpoint':'midpoint','VAST.thirdQuartile':'thirdQuartile','ended':'complete'});player.src(video_unit.sources);player.volume(volume);player.play();};VideoUnit.prototype.demolish=function(){videojs(this.video_tag_selector).dispose();$("#"+this.video_tag_selector).remove();};VideoUnit.prototype.end=function(e){$("#"+this.video_tag_selector+" img").remove();$(this.ad_unit.$video_container).removeClass('enlarged');$(this.ad_unit.$video_container).find("i").removeClass().addClass('icon-repeat');if(this.ad_unit.poster_url){var img=$("<img class='afns-ad-element afns-ad-"+this.ad_unit.name+"_poster poster' src='"+this.ad_unit.poster_url+"'>");$("#"+this.video_tag_selector).append(img);}};VideoUnit.prototype.behaviors={enlarge:function(video_unit){video_unit.player.on('ended',$.proxy(VideoUnit.prototype.end,video_unit));var container=$("#"+video_unit.video_tag_selector);var current_icon=video_unit.current_icon||video_unit.top_right_icon;var top_right_icon=$("<i class='icon-"+current_icon+"'></i>");container.append(top_right_icon);container.on('click','i.icon-'+video_unit.top_right_icon,$.proxy(VideoUnit.prototype.enlarge,video_unit));container.on('click','i.icon-resize-small',$.proxy(VideoUnit.prototype.minimize,video_unit));container.on('click','i.icon-repeat',$.proxy(VideoUnit.prototype.repeat,video_unit));},soundOn:function(video_unit){var container=$("#"+video_unit.video_tag_selector);var enlargeicon=$("<i class='icon-volume-up'></i>");container.append(enlargeicon);container.on('click','i.icon-volume-up',$.proxy(VideoUnit.prototype.soundOn,video_unit));},reveal:function(video_unit){video_unit.overlay=AdUnits.prototype.createOverlay(video_unit.ad_unit);var container=$("#"+video_unit.video_tag_selector);var soundicon=$("<i class='icon-volume-up'></i>");var cancelicon=$("<i class='icon-remove'></i>");container.append(soundicon);container.append(cancelicon);container.on('click','i.icon-volume-up',$.proxy(VideoUnit.prototype.soundOn,video_unit));video_unit.proxied_end=$.proxy(VideoUnit.prototype.revealEnd,video_unit);video_unit.o.on('keypress.esc',video_unit.proxied_end);container.on('click','i.icon-remove',video_unit.proxied_end);video_unit.player.on('ended',$.proxy(VideoUnit.prototype.revealEnd,video_unit));}};VideoUnit.prototype.revealEnd=function(){videojs(this.video_tag_selector).pause();if(this.ad_unit.overlayTrackerInterval){clearInterval(this.ad_unit.overlayTrackerInterval);}
if(this.overlay){this.overlay.hide();}
$("#logo-repeat-box-icon i").unbind('click');$("#logo-repeat-box-icon i").click(function(){this.o.ad_units.video_reveal.video_unit.overlay.show();this.o.ad_units.video_reveal.unit.$video_container.show();this.o.ad_units.video_reveal.video_unit.soundOn();});this.ad_unit.$video_container.fadeOut(500,function(){setTimeout(function(){$("#logo-repeat-box-icon div").addClass('spin');setTimeout(function(){$("#logo-repeat-box-icon div").removeClass('spin');},500);},200);});return false;};VideoUnit.prototype.enlarge=function(){this.current_icon='resize-small';$(this.ad_unit.$video_container).find("i").removeClass().addClass('icon-resize-small');this.proxied_minimize=$.proxy(VideoUnit.prototype.minimize,this);this.o.on('keypress.esc',this.proxied_minimize);$(this.ad_unit.$video_container).addClass('enlarged');this.play(1);AdUnits.prototype.createTrackingPixel(this.ad_unit.video_expand_pixel_tracker_url);return false;};VideoUnit.prototype.minimize=function(){$(this.ad_unit.$video_container).removeClass('enlarged');this.play(0);$(this.ad_unit.$video_container).find("i").removeClass().addClass('icon-'+this.top_right_icon);this.o.off('keypress.esc',this.proxied_minimize);return false;};VideoUnit.prototype.repeat=function(){$(this.ad_unit.$video_container).find("img.poster").remove();return this.enlarge();};VideoUnit.prototype.soundOn=function(){videojs(this.video_tag_selector).currentTime(0);videojs(this.video_tag_selector).volume(100);videojs(this.video_tag_selector).play();AdUnits.prototype.createTrackingPixel(this.ad_unit.video_sound_pixel_tracker);return false;};VideoUnit.prototype.timeUpdate=function(){var currentTime=this.player.currentTime();var currentPercentage=100*currentTime/this.player.duration();var prevPercentage=100*this.player.prevTime/this.player.duration();if(currentTime>0&&this.player.prevTime===0){this.player.trigger("VAST.start");}
if(currentTime>0&&this.player.prevTime===0){this.player.trigger("VAST.creativeView");}
if(currentPercentage>25&&prevPercentage<25){this.player.trigger("VAST.firstQuartile");}
if(currentPercentage>50&&prevPercentage<50){this.player.trigger("VAST.midpoint");}
if(currentPercentage>75&&prevPercentage<75){this.player.trigger("VAST.thirdQuartile");}
this.player.prevTime=currentTime;if(typeof interstitial_countdown!=='undefined'){clearTimeout(interstitial_countdown);if(this.player.duration()>0)countdown(this.player);}};VideoUnit.prototype.fireVastPixel=function(tracking,pixel_name){if(tracking[pixel_name]){for(var i=0;i<tracking[pixel_name].length;i++){AdUnits.prototype.createTrackingPixel(tracking[pixel_name][i]);}}};VideoUnit.prototype.bindVastTimingEvents=function(player,events){var video_unit=this;$.each(events,function(k,v){player.one(k,function(){video_unit.fireVastPixel(video_unit.videoPlayTracking,v);});});};return VideoUnit;})();o.ad_units=(function(){var self=new AdUnits();self.element_class='afns-ad-element';self.timer=null;function getNumFromPx(pxString){if(typeof(pxString)=="string"){return pxString.replace('px','')-0}else if(typeof(pxString)=="number"){return pxString}else{return 0}}
self.skin={build:function(unit){unit.image_height=unit.image_height||460
unit.top_height=unit.top_height||273
var anchor=$("<a>").attr({"href":unit.url,"target":"_blank"}).addClass('afns-ad-skin').addClass(self.element_class).css({"height":unit.image_height+"px","background-image":"url('"+unit.image_url+"')"})
$("#"+unit.slotname).prepend(anchor)
var height=getNumFromPx(unit.top_height);AdUnits.prototype.createRule('\
                    body.afns-ad-skin div#body-wrap{\
                        margin-top: '+height+'px !important;\
                    }\
                ');if(unit.background_color){var color=unit.background_color;AdUnits.prototype.createRule('\
                        html{\
                            background-color: '+color+';\
                            margin-top: -10px;\
                        }\
                    ');}
if(unit.banner_top_offset){AdUnits.prototype.createRule('\
                        body.afns-ad-skin #dfp-ad-header{\
                            top: '+unit.banner_top_offset+'px;\
                        }\
                    ');}
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(unit){return;}}
self.wallpaper={build:function(unit){self.wallpaper.unit=unit
var leftdiv=$("<div>").addClass('afns-ad-wallpaper left '+self.element_class).css({"background-image":"url('"+unit.left_image_url+"')"})
var leftanchor=$("<a>").attr({"href":unit.left_url,"target":"_blank"})
leftdiv.append(leftanchor)
var rightdiv=$("<div>").addClass('afns-ad-wallpaper right '+self.element_class).css({"background-image":"url('"+unit.right_image_url+"')"})
var rightanchor=$("<a>").attr({"href":unit.right_url,"target":"_blank"})
rightdiv.append(rightanchor)
$("#"+unit.slotname).prepend(leftdiv)
$("#"+unit.slotname).prepend(rightdiv)
if(unit.background_color){var color=unit.background_color;AdUnits.prototype.createRule('\
                        html{\
                            background-color: '+color+';\
                        }\
                        body.site_onion.afns-ad-wallpaper{\
                            margin-top: -10px;\
                        }\
                    ');}
unit.left_pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.left_pixel_tracker_url)
unit.right_pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.right_pixel_tracker_url)},demolish:function(unit){return;}}
self.video_reveal={build:function(unit){self.video_reveal.unit=unit
self.video_reveal.unit.name="video_reveal"
self.video_reveal.unit.behavior="reveal"
self.video_reveal.unit.cookie_name='video_reveal-'+unit.campaign_identifier
$("#logo-repeat-box-image").html($("<a target='_blank' href='"+unit.sponsor_logo_click_url+"'><img src='"+unit.sponsor_logo+"'></a>"))
var containerdiv=$("<div>").attr("id","video_reveal_container").addClass(self.element_class+' afns-ad-video_reveal')
self.video_reveal.unit.$video_container=containerdiv
$("#"+unit.slotname).prepend(containerdiv)
var containeranchor=$("<a>").attr({'href':"#",'target':'_blank'})
self.video_reveal.unit.video_anchor=containeranchor
containerdiv.append(containeranchor)
if($.cookie(self.video_reveal.unit.cookie_name)){$("#logo-repeat-box-icon i").click(function(){o.ad_units.video_reveal.video_unit=new VideoUnit(o,self.video_reveal.unit,1)})}else{self.video_reveal.video_unit=new VideoUnit(o,self.video_reveal.unit)}
if(unit.campaign_identifier){$.cookie(self.video_reveal.unit.cookie_name,'1',{expires:86400});}
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(unit){o.ad_units.video_reveal.video_unit.demolish(o)
return}}
self.video_masthead={build:function(unit){self.video_masthead.unit=unit
self.video_masthead.unit.name="video_masthead"
self.video_masthead.unit.behavior="enlarge"
var containerdiv=$("<div>").attr("id","video_masthead_container").addClass('afns-ad-video_masthead video-container '+self.element_class)
self.video_masthead.unit.$video_container=containerdiv
$("#"+unit.slotname).prepend(containerdiv)
var containeranchor=$("<a>").attr({"href":'#',"target":"_blank"})
self.video_masthead.unit.video_anchor=containeranchor
containerdiv.append(containeranchor)
self.video_masthead.video_unit=new VideoUnit(o,self.video_masthead.unit)
if(unit.destroy_header_300x250)$("#dfp-ad-header_300x250").remove()},demolish:function(unit){o.ad_units.video_masthead.video_unit.demolish(o)
return}}
self.video_300x250={build:function(unit){self.unit=unit
AdUnits.prototype.createRule('\
                    body.afns-ad-video_300x250 div#'+unit.slotname+'{\
                        background-color: #F5F5F5;\
                }');var containerdiv=$("<div>").addClass('afns-ad-video_300x250 video-container '+self.element_class)
var videotag=$("<video>").attr({'id':'video_300x250_video'}).addClass('video-js vjs-default-skin afns-ad-video_300x250 '+self.element_class)
containerdiv.append("<div class='afns-ad-video_300x250 text top'>ADVERTISEMENT</div>")
containerdiv.append(videotag)
containerdiv.append("<div class='afns-ad-video_300x250 text bottom'>"+unit.bottom_copy+"</div>")
$("#"+unit.slotname).prepend(containerdiv)
var enlargeicon=$("<i class='icon-volume-up'></i>").click(o.ad_units.video_300x250.soundOn)
containerdiv.append(enlargeicon)
_V_("video_300x250_video",{controls:false},function(){this.src({'type':'video/mp4','src':unit.video_url})
this.volume(0)
this.play()})
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)
$("#pixel_trackers").append($("<img>").addClass('video_sound_pixel_tracker '+self.element_class).attr('data-video_sound_pixel_tracker_url',unit.video_sound_pixel_tracker_url))},demolish:function(unit){return},soundOn:function(){_V_("video_300x250_video").currentTime(0)
_V_("video_300x250_video").volume(100)
$(".afns-ad-video_300x250 i").unbind()
$(".afns-ad-video_300x250 i").click(o.ad_units.video_300x250.soundOff)
$("#pixel_trackers .video_sound_pixel_tracker").attr('src',$("#pixel_trackers .video_sound_pixel_tracker").data('video_sound_pixel_tracker_url'))
return false},soundOff:function(){_V_("video_300x250_video").volume(0)
$(".afns-ad-video_300x250 i").unbind()
$(".afns-ad-video_300x250 i").click(o.ad_units.video_300x250.soundOn)
return false}}
self.home_custom_feature={}
self.standard_ad={build:function(unit){var html=o.utils.b64_to_utf8(unit.html)
$("#"+unit.slotname).append($(html))},demolish:function(unit){return}}
self.sponsored_post_homepage={build:function(unit){var sponsored_post=$("<div>")
sponsored_post.addClass("afns-ad-element afns-ad-sponsored-post-homepage")
sponsored_post.html("<section><h4>SPONSORED POST</h4><article><div class=\"picture\"><a href=\""+unit.post_url+"\"><img src=\""+unit.post_thumbnail_url+"\"></a></div><h1><a class=\"title\" href=\""+unit.post_url+"\">"+unit.post_title+"</a></h1><div class=\"text meta afns-ad-sponsor-logo\">SPONSORED BY <div></div><a href=\""+unit.sponsor_logo_click_url+"\"><img src=\""+unit.sponsor_logo_image_url+"\"></a></div></article></section>")
if(unit.which_sidebar==="top"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(0)").prepend(sponsored_post)
else
$("aside.sidebar:nth(0)").append(sponsored_post)}
if(unit.which_sidebar==="bottom"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(1)").prepend(sponsored_post)
else
$("aside.sidebar:nth(1)").append(sponsored_post)}
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(unit){return}}
self.sponsored_post={build:function(unit){if(o.page.active.metadata.targeting.dfp_pagetype==="home"){var sponsored_post=$("<div>")
sponsored_post.addClass("afns-ad-element afns-ad-sponsored-post-homepage")
sponsored_post.html("<section><h4>SPONSORED POST</h4><article><div class=\"picture\"><a href=\""+unit.post_url+"\"><img src=\""+unit.post_thumbnail_url+"\"></a></div><h1><a class=\"title\" href=\""+unit.post_url+"\">"+unit.post_title+"</a></h1><div class=\"text meta afns-ad-sponsor-logo\">SPONSORED BY <div></div><a href=\""+unit.sponsor_logo_click_url+"\"><img src=\""+unit.sponsor_logo_image_url+"\"></a></div></article></section>")
if(unit.which_sidebar==="top"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(0)").prepend(sponsored_post)
else
$("aside.sidebar:nth(0)").append(sponsored_post)}
if(unit.which_sidebar==="bottom"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(1)").prepend(sponsored_post)
else
$("aside.sidebar:nth(1)").append(sponsored_post)}}
if(o.page.active.metadata.targeting.dfp_pagetype==="article"){var sponsored_post=$("<div>")
sponsored_post.addClass("title afns-ad-element afns-ad-sponsored-post-recirc")
sponsored_post.html("<h4>SPONSORED POST</h4><a href=\""+unit.post_url+"\">"+unit.post_title+"</a><div class=\"sponsored-by\"><h5>SPONSORED BY</h5><div></div><a href=\""+unit.sponsor_logo_click_url+"\"><img src=\""+unit.sponsor_logo_image_url+"\"></a></div>")
$("section.recent-news div.list a:nth(3)").before(sponsored_post)}
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(unit){return}}
self.custom_featured_section={build:function(unit){var section_callout=$("<div class='"+self.element_class+"'><section class='custom-feature'><h4 class='custom_feature_title'><a href='"+unit.section_url+"'>"+unit.section_name+"</a></h4><article><div class='picture'><a href='"+unit.post_url+"'><img src='"+unit.post_thumbnail_url+"'></a></div><h1><a class='title' href='"+unit.post_url+"' title='"+unit.post_title+"'>"+unit.post_title+"</a></h1><div class='ad-zone'><a href='"+unit.sponsor_logo_click_url+"' target='_blank'><img src='"+unit.sponsor_logo_image_url+"'></a></div></article></section></div>")
if(unit.background_color){section_callout.css({'background-color':unit.background_color,'padding':'10px 10px 10px 10px'})}
if(unit.which_sidebar==="top"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(0)").prepend(section_callout)
else
$("aside.sidebar:nth(0)").append(section_callout)}
if(unit.which_sidebar==="bottom"){if(unit.position_in_sidebar==="top")
$("aside.sidebar:nth(1)").prepend(section_callout)
else
$("aside.sidebar:nth(1)").append(section_callout)}
unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(){}}
self.pixel_tracker={build:function(unit){unit.pixel_tracker_url&&AdUnits.prototype.createTrackingPixel(unit.pixel_tracker_url)},demolish:function(unit){return}}
return self;})();var FlashReplace={elmToReplace:null,flashIsInstalled:null,defaultFlashVersion:7,replace:function(elmToReplace,src,id,width,height,version,params){this.elmToReplace=document.getElementById(elmToReplace);this.flashIsInstalled=this.checkForFlash(version||this.defaultFlashVersion);if(this.elmToReplace&&this.flashIsInstalled){var obj='<object'+((window.ActiveXObject)?' id="'+id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+src+'"':'');obj+=' width="'+width+'"';obj+=' height="'+height+'"';obj+='>';var param='<param';param+=' name="movie"';param+=' value="'+src+'"';param+='>';param+='';var extraParams='';var extraAttributes='';for(var i in params){extraParams+='<param name="'+i+'" value="'+params[i]+'">';extraAttributes+=' '+i+'="'+params[i]+'"';}
var embed='<embed id="'+id+'" src="'+src+'" type="application/x-shockwave-flash" width="'+width+'" height="'+height+'"';var embedEnd=extraAttributes+'></embed>';var objEnd='</object>';this.elmToReplace.innerHTML=obj+param+extraParams+embed+embedEnd+objEnd;}},checkForFlash:function(version){this.flashIsInstalled=false;var flash;if(window.ActiveXObject){try{flash=new ActiveXObject(("ShockwaveFlash.ShockwaveFlash."+version));this.flashIsInstalled=true;}
catch(e){}}
else if(navigator.plugins&&navigator.mimeTypes.length>0){flash=navigator.plugins["Shockwave Flash"];if(flash){var flashVersion=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");if(flashVersion>=version){this.flashIsInstalled=true;}}}
return this.flashIsInstalled;}};function Modal(name,html,closeFn){var backdrop=$('<div class="modal-backdrop" />');var modal=$('<div class="modal '+name+'" />');setup();function setup(){backdrop.appendTo('body').css('height',$('body').outerHeight()||'100%');modal.html(html+'<button class="close">&times;</button>').appendTo('body');modal.css('margin-top',$(document).scrollTop());$('.close',modal).click(close);backdrop.click(close);}
function close(){var prevent=closeFn&&closeFn();if(prevent===false)return;modal.remove();backdrop.remove();}
return{modal:modal,backdrop:backdrop,close:close};}
(function(window,document){function Shake(){if(!('createEvent'in document))return false
this.hasDeviceMotion='ondevicemotion'in window;this.threshold=15;this.lastTime=new Date();this.lastX=null;this.lastY=null;this.lastZ=null;this.event=document.createEvent('Event');this.event.initEvent('shake',true,true);}
Shake.prototype.reset=function(){this.lastTime=new Date();this.lastX=null;this.lastY=null;this.lastZ=null;};Shake.prototype.start=function(){this.reset();if(this.hasDeviceMotion){window.addEventListener('devicemotion',this,false);}};Shake.prototype.stop=function(){if(this.hasDeviceMotion){window.removeEventListener('devicemotion',this,false);}
this.reset();};Shake.prototype.devicemotion=function(e){var current=e.accelerationIncludingGravity,currentTime,timeDifference,deltaX=0,deltaY=0,deltaZ=0;if((this.lastX===null)&&(this.lastY===null)&&(this.lastZ===null)){this.lastX=current.x;this.lastY=current.y;this.lastZ=current.z;return;}
deltaX=Math.abs(this.lastX-current.x);deltaY=Math.abs(this.lastY-current.y);deltaZ=Math.abs(this.lastZ-current.z);if(((deltaX>this.threshold)&&(deltaY>this.threshold))||((deltaX>this.threshold)&&(deltaZ>this.threshold))||((deltaY>this.threshold)&&(deltaZ>this.threshold))){currentTime=new Date();timeDifference=currentTime.getTime()-this.lastTime.getTime();if(timeDifference>1000){window.dispatchEvent(this.event);this.lastTime=new Date();}}};Shake.prototype.handleEvent=function(e){if(typeof(this[e.type])==='function'){return this[e.type](e);}};var myShakeEvent=new Shake();myShakeEvent&&myShakeEvent.start();}(window,document));o.random=function(){o.on('page.new',function(){o.random.init();});window.addEventListener&&window.addEventListener('shake',function(){$("body").addClass("random_enabled");},false);self.init=function(){if(window.localStorage){if(window.localStorage.random_enabled=="on"){}}
$("#pagination .random").click(function(){if(window.localStorage){window.localStorage.random_enabled="on";}});}
return self;}()